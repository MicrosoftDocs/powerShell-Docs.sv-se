---
ms.date: 12/12/2018
keywords: DSC, powershell, konfiguration, installation
title: Konfigurera den lokala Konfigurationshanteraren i tidigare versioner av Windows PowerShell
ms.openlocfilehash: 31ba2ecdaa5a2ff7fcfddb1791c4d00343f4b5d5
ms.sourcegitcommit: 00ff76d7d9414fe585c04740b739b9cf14d711e1
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 12/14/2018
ms.locfileid: "53404985"
---
# <a name="configuring-the-local-configuration-manager-in-previous-versions-of-windows-powershell"></a><span data-ttu-id="f7aad-103">Konfigurera den lokala Konfigurationshanteraren i tidigare versioner av Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="f7aad-103">Configuring the Local Configuration Manager in Previous Versions of Windows PowerShell</span></span>

><span data-ttu-id="f7aad-104">Gäller för: Windows PowerShell 4.0</span><span class="sxs-lookup"><span data-stu-id="f7aad-104">Applies To: Windows PowerShell 4.0</span></span>

<span data-ttu-id="f7aad-105">**Information relaterad till Windows PowerShell 5.0 och senare finns i [konfigurerar den lokala Konfigurationshanteraren](metaConfig.md).**</span><span class="sxs-lookup"><span data-stu-id="f7aad-105">**For information related to Windows PowerShell 5.0 and later, see [Configuring the Local Configuration Manager](metaConfig.md).**</span></span>

<span data-ttu-id="f7aad-106">Lokal konfigurationshanterare är Windows PowerShell Desired State Configuration (DSC)-motor.</span><span class="sxs-lookup"><span data-stu-id="f7aad-106">Local Configuration Manager is the Windows PowerShell Desired State Configuration (DSC) engine.</span></span>
<span data-ttu-id="f7aad-107">Den körs på alla målnoder och den är ansvarig för att anropa configuration-resurser som ingår i ett DSC-konfigurationsskript.</span><span class="sxs-lookup"><span data-stu-id="f7aad-107">It runs on all target nodes, and it is responsible for calling the configuration resources that are included in a DSC configuration script.</span></span>
<span data-ttu-id="f7aad-108">Det här avsnittet visar en lista över egenskaper för lokal konfigurationshanterare och beskriver hur du kan ändra inställningarna för lokala Konfigurationshanteraren på målnoden.</span><span class="sxs-lookup"><span data-stu-id="f7aad-108">This topic lists the properties of Local Configuration Manager and describes how you can modify the Local Configuration Manager settings on a target node.</span></span>

## <a name="local-configuration-manager-properties"></a><span data-ttu-id="f7aad-109">Egenskaper för lokala Configuration Manager</span><span class="sxs-lookup"><span data-stu-id="f7aad-109">Local Configuration Manager properties</span></span>

<span data-ttu-id="f7aad-110">Här nedan listas de lokala Configuration Manager-egenskaper som du kan ange eller hämta.</span><span class="sxs-lookup"><span data-stu-id="f7aad-110">The following lists the Local Configuration Manager properties that you can set or retrieve.</span></span>

- <span data-ttu-id="f7aad-111">**AllowModuleOverwrite**: Styr huruvida nya konfigurationer som laddats ned från konfigurationstjänsten ska kunna skriva över gamla på målnoden.</span><span class="sxs-lookup"><span data-stu-id="f7aad-111">**AllowModuleOverwrite**: Controls whether new configurations downloaded from the configuration service are allowed to overwrite the old ones on the target node.</span></span> <span data-ttu-id="f7aad-112">Möjliga värden är True och False.</span><span class="sxs-lookup"><span data-stu-id="f7aad-112">Possible values are True and False.</span></span>
- <span data-ttu-id="f7aad-113">**CertificateID**: Tumavtrycket för ett certifikat som används för att skydda autentiseringsuppgifter som angavs i en konfiguration.</span><span class="sxs-lookup"><span data-stu-id="f7aad-113">**CertificateID**: The thumbprint of a certificate used to secure credentials passed in a configuration.</span></span> <span data-ttu-id="f7aad-114">Mer information finns i [behöver du säkra autentiseringsuppgifter i Windows PowerShell Desired State Configuration?](https://blogs.msdn.microsoft.com/powershell/2014/01/31/want-to-secure-credentials-in-windows-powershell-desired-state-configuration/).</span><span class="sxs-lookup"><span data-stu-id="f7aad-114">For more information see [Want to secure credentials in Windows PowerShell Desired State Configuration?](https://blogs.msdn.microsoft.com/powershell/2014/01/31/want-to-secure-credentials-in-windows-powershell-desired-state-configuration/).</span></span>
- <span data-ttu-id="f7aad-115">**ConfigurationID**: Anger ett GUID som används för att hämta en viss fil från en pull-tjänsten.</span><span class="sxs-lookup"><span data-stu-id="f7aad-115">**ConfigurationID**: Indicates a GUID which is used to get a particular configuration file from a pull service.</span></span> <span data-ttu-id="f7aad-116">GUID som säkerställer att rätt konfigurationsfilen är tillgänglig.</span><span class="sxs-lookup"><span data-stu-id="f7aad-116">The GUID ensures that the correct configuration file is accessed.</span></span>
- <span data-ttu-id="f7aad-117">**ConfigurationMode**: Anger hur den lokala Konfigurationshanteraren faktiskt tillämpar konfigurationen målnoder.</span><span class="sxs-lookup"><span data-stu-id="f7aad-117">**ConfigurationMode**: Specifies how the Local Configuration Manager actually applies the configuration to the target nodes.</span></span> <span data-ttu-id="f7aad-118">Det kan ta följande värden:</span><span class="sxs-lookup"><span data-stu-id="f7aad-118">It can take the following values:</span></span>
  - <span data-ttu-id="f7aad-119">**ApplyOnly**: Med det här alternativet DSC gäller konfigurationen av och gör ingenting ytterligare såvida inte en ny konfiguration har identifierats, antingen genom att du skicka en ny konfiguration direkt till målet nod eller om du ansluter till en pull-tjänst och DSC identifierar en ny konfiguration när den kontaktar pull-tjänsten.</span><span class="sxs-lookup"><span data-stu-id="f7aad-119">**ApplyOnly**: With this option, DSC applies the configuration and does nothing further unless a new configuration is detected, either by you sending a new configuration directly to the target node or if you are connecting to a pull service and DSC discovers a new configuration when it checks with the pull service.</span></span> <span data-ttu-id="f7aad-120">Om målet nodkonfiguration drifts, utförs ingen åtgärd.</span><span class="sxs-lookup"><span data-stu-id="f7aad-120">If the target node’s configuration drifts, no action is taken.</span></span>
  - <span data-ttu-id="f7aad-121">**ApplyAndMonitor**: Med det här alternativet (som är standard), DSC gäller alla nya konfigurationer, oavsett om skickas av dig direkt till målnoden eller identifierats på en pull-tjänst.</span><span class="sxs-lookup"><span data-stu-id="f7aad-121">**ApplyAndMonitor**: With this option (which is the default), DSC applies any new configurations, whether sent by you directly to the target node or discovered on a pull service.</span></span> <span data-ttu-id="f7aad-122">Om konfigurationen av målnoden drifts från konfigurationsfilen, rapporterar DSC därefter avvikelse i loggarna.</span><span class="sxs-lookup"><span data-stu-id="f7aad-122">Thereafter, if the configuration of the target node drifts from the configuration file, DSC reports the discrepancy in logs.</span></span> <span data-ttu-id="f7aad-123">Mer information om DSC-loggning finns i [med hjälp av händelseloggar för att diagnostisera fel i Desired State Configuration](http://blogs.msdn.com/b/powershell/archive/2014/01/03/using-event-logs-to-diagnose-errors-in-desired-state-configuration.aspx).</span><span class="sxs-lookup"><span data-stu-id="f7aad-123">For more about DSC logging, see [Using Event Logs to Diagnose Errors in Desired State Configuration](http://blogs.msdn.com/b/powershell/archive/2014/01/03/using-event-logs-to-diagnose-errors-in-desired-state-configuration.aspx).</span></span>
  - <span data-ttu-id="f7aad-124">**ApplyAndAutoCorrect**: Med det här alternativet gäller DSC eventuella nya konfigurationer om skickas av dig direkt till målnoden eller identifierats på en pull-tjänst.</span><span class="sxs-lookup"><span data-stu-id="f7aad-124">**ApplyAndAutoCorrect**: With this option, DSC applies any new configurations, whether sent by you directly to the target node or discovered on a pull service.</span></span> <span data-ttu-id="f7aad-125">Därefter om konfigurationen av målnoden drifts från konfigurationsfilen, DSC rapporterar avvikelse i loggarna och försöker sedan justera nodkonfiguration mål att ta med konfigurationsfilen.</span><span class="sxs-lookup"><span data-stu-id="f7aad-125">Thereafter, if the configuration of the target node drifts from the configuration file, DSC reports the discrepancy in logs, and then attempts to adjust the target node configuration to bring in compliance with the configuration file.</span></span>
- <span data-ttu-id="f7aad-126">**ConfigurationModeFrequencyMins**: Visar frekvens (i minuter) som bakgrundsprogrammet för DSC försöka införa den aktuella konfigurationen på målnoden.</span><span class="sxs-lookup"><span data-stu-id="f7aad-126">**ConfigurationModeFrequencyMins**: Represents the frequency (in minutes) at which the background application of DSC attempts to implement the current configuration on the target node.</span></span> <span data-ttu-id="f7aad-127">Standardvärdet är 15.</span><span class="sxs-lookup"><span data-stu-id="f7aad-127">The default value is 15.</span></span> <span data-ttu-id="f7aad-128">Det här värdet kan anges tillsammans med RefreshMode.</span><span class="sxs-lookup"><span data-stu-id="f7aad-128">This value can be set in conjunction with RefreshMode.</span></span> <span data-ttu-id="f7aad-129">När RefreshMode har angetts till PULL målnoden kontaktar tjänsten för konfiguration vid ett intervall som anges av RefreshFrequencyMins och hämtar den aktuella konfigurationen.</span><span class="sxs-lookup"><span data-stu-id="f7aad-129">When RefreshMode is set to PULL, the target node contacts the configuration service at an interval set by RefreshFrequencyMins and downloads the current configuration.</span></span> <span data-ttu-id="f7aad-130">Oavsett vilket värde för RefreshMode, gäller vid de tider som anges av ConfigurationModeFrequencyMins, konsekvens-motorn den senaste konfigurationen som hämtades till målnoden.</span><span class="sxs-lookup"><span data-stu-id="f7aad-130">Regardless of the RefreshMode value, at the interval set by ConfigurationModeFrequencyMins, the consistency engine applies the latest configuration that was downloaded to the target node.</span></span> <span data-ttu-id="f7aad-131">RefreshFrequencyMins ska anges till ett heltal multipel av ConfigurationModeFrequencyMins.</span><span class="sxs-lookup"><span data-stu-id="f7aad-131">RefreshFrequencyMins should be set to an integer multiple of ConfigurationModeFrequencyMins.</span></span>
- <span data-ttu-id="f7aad-132">**Autentiseringsuppgifter**: Anger autentiseringsuppgifter (precis som med Get-Credential) krävs för att använda fjärranslutna resurser, till exempel för att kontakta tjänsten för konfiguration.</span><span class="sxs-lookup"><span data-stu-id="f7aad-132">**Credential**: Indicates credentials (as with Get-Credential) required to access remote resources, such as to contact the configuration service.</span></span>
- <span data-ttu-id="f7aad-133">**DownloadManagerCustomData**: Representerar en matris som innehåller anpassade data som är specifika för Hämtningshanteraren.</span><span class="sxs-lookup"><span data-stu-id="f7aad-133">**DownloadManagerCustomData**: Represents an array that contains custom data specific to the download manager.</span></span>
- <span data-ttu-id="f7aad-134">**DownloadManagerName**: Anger namnet på konfigurationen och modulen Hämtningshanteraren.</span><span class="sxs-lookup"><span data-stu-id="f7aad-134">**DownloadManagerName**: Indicates the name of the configuration and module download manager.</span></span>
- <span data-ttu-id="f7aad-135">**RebootNodeIfNeeded**: Vissa ändringar i konfigurationen på målnoden kan kräva den startas om för att ändringarna ska tillämpas.</span><span class="sxs-lookup"><span data-stu-id="f7aad-135">**RebootNodeIfNeeded**: Certain configuration changes on a target node might require it to be restarted for the changes to be applied.</span></span> <span data-ttu-id="f7aad-136">Med värdet **SANT**, den här egenskapen ska starta om noden när konfigurationen har helt gäller, utan ytterligare varning.</span><span class="sxs-lookup"><span data-stu-id="f7aad-136">With the value **True**, this property will restart the node as soon as the configuration has been completely applies, without further warning.</span></span> <span data-ttu-id="f7aad-137">Om **FALSKT** (standardvärdet), konfigurationen kommer att slutföras, men noden måste startas om manuellt för att ändringarna ska börja gälla.</span><span class="sxs-lookup"><span data-stu-id="f7aad-137">If **False** (the default value), the configuration will be completed, but the node must be restarted manually for the changes to take effect.</span></span>
- <span data-ttu-id="f7aad-138">**RefreshFrequencyMins**: Används när du har ställt in en pull-tjänst.</span><span class="sxs-lookup"><span data-stu-id="f7aad-138">**RefreshFrequencyMins**: Used when you have set up a pull service.</span></span> <span data-ttu-id="f7aad-139">Visar frekvens (i minuter) som den lokala Konfigurationshanteraren kontaktar en pull-tjänst för att hämta den aktuella konfigurationen.</span><span class="sxs-lookup"><span data-stu-id="f7aad-139">Represents the frequency (in minutes) at which the Local Configuration Manager contacts a pull service to download the current configuration.</span></span> <span data-ttu-id="f7aad-140">Det här värdet kan anges tillsammans med ConfigurationModeFrequencyMins.</span><span class="sxs-lookup"><span data-stu-id="f7aad-140">This value can be set in conjunction with ConfigurationModeFrequencyMins.</span></span> <span data-ttu-id="f7aad-141">När RefreshMode har angetts till PULL målnoden kontaktar pull-tjänsten med ett intervall som anges av RefreshFrequencyMins och hämtar den aktuella konfigurationen.</span><span class="sxs-lookup"><span data-stu-id="f7aad-141">When RefreshMode is set to PULL, the target node contacts the pull service at an interval set by RefreshFrequencyMins and downloads the current configuration.</span></span> <span data-ttu-id="f7aad-142">Vid de tider som anges av ConfigurationModeFrequencyMins gäller konsekvens motorn sedan den senaste konfigurationen som hämtades till målnoden.</span><span class="sxs-lookup"><span data-stu-id="f7aad-142">At the interval set by ConfigurationModeFrequencyMins, the consistency engine then applies the latest configuration that was downloaded to the target node.</span></span> <span data-ttu-id="f7aad-143">Om RefreshFrequencyMins inte har angetts till ett heltal multipel av ConfigurationModeFrequencyMins, systemet kommer avrunda uppåt.</span><span class="sxs-lookup"><span data-stu-id="f7aad-143">If RefreshFrequencyMins is not set to an integer multiple of ConfigurationModeFrequencyMins, the system will round it up.</span></span> <span data-ttu-id="f7aad-144">Standardvärdet är 30.</span><span class="sxs-lookup"><span data-stu-id="f7aad-144">The default value is 30.</span></span>
- <span data-ttu-id="f7aad-145">**RefreshMode**: Möjliga värden är **Push** (standard) och **hämta**.</span><span class="sxs-lookup"><span data-stu-id="f7aad-145">**RefreshMode**: Possible values are **Push** (the default) and **Pull**.</span></span> <span data-ttu-id="f7aad-146">I ”push”-konfigurationen måste du placera en fil på varje nod i målet, med hjälp av valfri dator.</span><span class="sxs-lookup"><span data-stu-id="f7aad-146">In the “push” configuration, you must place a configuration file on each target node, using any client computer.</span></span> <span data-ttu-id="f7aad-147">I ”pull”-läge måste du konfigurera en pull-tjänst för lokala Configuration Manager för att kontakta och få åtkomst till konfigurationsfilerna.</span><span class="sxs-lookup"><span data-stu-id="f7aad-147">In the “pull” mode, you must set up a pull service for Local Configuration Manager to contact and access the configuration files.</span></span>

### <a name="example-of-updating-local-configuration-manager-settings"></a><span data-ttu-id="f7aad-148">Exempel för att uppdatera inställningarna för lokala Configuration Manager</span><span class="sxs-lookup"><span data-stu-id="f7aad-148">Example of updating Local Configuration Manager settings</span></span>

<span data-ttu-id="f7aad-149">Du kan uppdatera Local Configuration Manager-inställningarna för en målnoden genom att inkludera en **LocalConfigurationManager** blockera i blocket nod i ett konfigurationsskript som visas i följande exempel.</span><span class="sxs-lookup"><span data-stu-id="f7aad-149">You can update the Local Configuration Manager settings of a target node by including a **LocalConfigurationManager** block inside the node block in a configuration script, as shown in the following example.</span></span>

```powershell
Configuration ExampleConfig
{
    Node “Server001”
    {
        LocalConfigurationManager
        {
            ConfigurationID = "646e48cb-3082-4a12-9fd9-f71b9a562d4e"
            ConfigurationModeFrequencyMins = 45
            ConfigurationMode = "ApplyAndAutocorrect"
            RefreshMode = "Pull"
            RefreshFrequencyMins = 90
            DownloadManagerName = "WebDownloadManager"
            DownloadManagerCustomData = (@{ServerUrl="https://$PullService/psdscpullserver.svc"})
            CertificateID = "71AA68562316FE3F73536F1096B85D66289ED60E"
            Credential = $cred
            RebootNodeIfNeeded = $true
            AllowModuleOverwrite = $false
        }
# One or more resource blocks can be added here
    }
}

# The following line invokes the configuration and creates a file called Server001.meta.mof at the specified path
ExampleConfig -OutputPath "c:\users\public\dsc"
```

<span data-ttu-id="f7aad-150">Köra skript i det förra exemplet genererar en MOF-fil som anger och lagrar sedan önskade inställningar.</span><span class="sxs-lookup"><span data-stu-id="f7aad-150">Running the script in the previous example generates a MOF file that specifies and stores the desired settings.</span></span>
<span data-ttu-id="f7aad-151">Om du vill tillämpa inställningarna, kan du använda den **Set-DscLocalConfigurationManager** cmdlet, enligt följande exempel.</span><span class="sxs-lookup"><span data-stu-id="f7aad-151">To apply the settings, you can use the **Set-DscLocalConfigurationManager** cmdlet, as shown in the following example.</span></span>

```powershell
Set-DscLocalConfigurationManager -Path "c:\users\public\dsc"
```

> <span data-ttu-id="f7aad-152">**Obs**: För den **sökväg** parameter, måste du ange samma sökväg som du angav för den **OutputPath** parameter när du startade konfigurationen i exemplet ovan.</span><span class="sxs-lookup"><span data-stu-id="f7aad-152">**Note**: For the **Path** parameter, you must specify the same path that you specified for the **OutputPath** parameter when you invoked the configuration in the previous example.</span></span>

<span data-ttu-id="f7aad-153">Om du vill visa de aktuella inställningarna för lokala Configuration Manager kan du använda den **Get-DscLocalConfigurationManager** cmdlet.</span><span class="sxs-lookup"><span data-stu-id="f7aad-153">To see the current Local Configuration Manager settings, you can use the **Get-DscLocalConfigurationManager** cmdlet.</span></span>
<span data-ttu-id="f7aad-154">Om du anropar den här cmdleten utan parametrar, som standard får den Local Configuration Manager-inställningarna för den nod där du kör den.</span><span class="sxs-lookup"><span data-stu-id="f7aad-154">If you invoke this cmdlet with no parameters, by default it will get the Local Configuration Manager settings for the node on which you run it.</span></span>
<span data-ttu-id="f7aad-155">Om du vill ange en annan nod, använda den **CimSession** parameter med denna cmdlet.</span><span class="sxs-lookup"><span data-stu-id="f7aad-155">To specify another node, use the **CimSession** parameter with this cmdlet.</span></span>
