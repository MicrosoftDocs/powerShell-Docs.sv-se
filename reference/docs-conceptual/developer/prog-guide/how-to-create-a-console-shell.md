---
ms.date: 09/13/2016
ms.topic: reference
title: Skapa ett konsolgränssnitt
description: Skapa ett konsolgränssnitt
ms.openlocfilehash: 9ea67c43b1ee35b1fbfc553b22a1423419317ca2
ms.sourcegitcommit: ba7315a496986451cfc1296b659d73ea2373d3f0
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 12/10/2020
ms.locfileid: "92657220"
---
# <a name="how-to-create-a-console-shell"></a><span data-ttu-id="ee0aa-103">Skapa ett konsolgränssnitt</span><span class="sxs-lookup"><span data-stu-id="ee0aa-103">How to Create a Console Shell</span></span>

<span data-ttu-id="ee0aa-104">Windows PowerShell innehåller ett Make-Shell verktyg, även kallat "make-kit", som används för att skapa ett konsol gränssnitt som inte är utöknings Bart.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-104">Windows PowerShell provides a Make-Shell tool, also referred to as the "make-kit", that is used to create a console shell that is not extensible.</span></span> <span data-ttu-id="ee0aa-105">Gränssnitt som skapats med det här nya verktyget kan inte utökas senare via en Windows PowerShell-snapin-modul.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-105">Shells created with this new tool cannot be extended later through a Windows PowerShell snap-in.</span></span>

## <a name="syntax"></a><span data-ttu-id="ee0aa-106">Syntax</span><span class="sxs-lookup"><span data-stu-id="ee0aa-106">Syntax</span></span>

<span data-ttu-id="ee0aa-107">Här är den syntax som används för att köra Make-Shell inifrån en-fil.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-107">Here is the syntax used to run Make-Shell from within a make-file.</span></span>

```
make-shell
  -out n.exe
  -namespace ns
  [ -lib libdirectory1[,libdirectory2,..] ]
  [ -reference ca1.dll[,ca2.dll,...] ]
  [ -formatdata fd1.format.ps1xml[,fd2.format.ps1xml,...] ]
  [ -typedata td1.type.ps1xml[,td2.type.ps1xml,...] ]
  [ -source c1.cs [,c2.cs,...] ]
  [ -authorizationmanager authorizationManagerType ]
  [ -win32icon i.ico ]
  [ -initscript p.ps1 ]
  [ -builtinscript s1.ps1[,s2.ps1,...] ]
  [ -resource resourcefile.txt ]
  [ -cscflags cscFlags ]
  [ -? | -help ]
```

## <a name="parameters"></a><span data-ttu-id="ee0aa-108">Parameters (Parametrar)</span><span class="sxs-lookup"><span data-stu-id="ee0aa-108">Parameters</span></span>

<span data-ttu-id="ee0aa-109">Här är en kort beskrivning av parametrarna för märke-Shell.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-109">Here is a brief description of the parameters of Make-Shell.</span></span>

> [!CAUTION]
> <span data-ttu-id="ee0aa-110">UNC-sökvägar till sammansättningar stöds inte av skapa-gränssnitt.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-110">UNC paths to assemblies are not supported by Make-Shell.</span></span>

|<span data-ttu-id="ee0aa-111">Parameter</span><span class="sxs-lookup"><span data-stu-id="ee0aa-111">Parameter</span></span>|<span data-ttu-id="ee0aa-112">Beskrivning</span><span class="sxs-lookup"><span data-stu-id="ee0aa-112">Description</span></span>|
|---------------|-----------------|
|<span data-ttu-id="ee0aa-113">n.exe</span><span class="sxs-lookup"><span data-stu-id="ee0aa-113">-out n.exe</span></span>|<span data-ttu-id="ee0aa-114">Krävs.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-114">Required.</span></span> <span data-ttu-id="ee0aa-115">Namnet på det gränssnitt som ska skapas.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-115">The name of the shell to produce.</span></span> <span data-ttu-id="ee0aa-116">Sökvägen anges som en del av den här parametern.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-116">The path is specified as part of this parameter.</span></span><br /><br /> <span data-ttu-id="ee0aa-117">Med-Shell läggs ". exe" till i det här värdet om det inte anges.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-117">Make-shell will append ".exe" to this value if it is not specified.</span></span> <span data-ttu-id="ee0aa-118">**Varning:**  Skapa inte en utdatafil med samma namn som den refererade DLL-filen.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-118">**Caution:**  Do not create an output file with the same name as the referenced .dll file.</span></span> <span data-ttu-id="ee0aa-119">Om du gör det skapar Make-Shell-verktyget en. CS-fil med samma namn, vilket skriver över. cs-filen som innehåller käll koden för cmdleten.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-119">If you attempt this, the Make-Shell tool creates a .cs file with the same name, which will overwrite the .cs file that has your cmdlet source code.</span></span>|
|<span data-ttu-id="ee0aa-120">-namnrymd ns</span><span class="sxs-lookup"><span data-stu-id="ee0aa-120">-namespace ns</span></span>|<span data-ttu-id="ee0aa-121">Krävs.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-121">Required.</span></span> <span data-ttu-id="ee0aa-122">Namn området som ska användas för den härledda [system. Management. Automation. körnings utrymmen. Runspaceconfiguration](/dotnet/api/System.Management.Automation.Runspaces.RunspaceConfiguration) -klassen som gör-satsen genererar och kompilerar.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-122">The namespace to use for the derived [System.Management.Automation.Runspaces.Runspaceconfiguration](/dotnet/api/System.Management.Automation.Runspaces.RunspaceConfiguration) class that the make-kit generates and compiles.</span></span>|
|<span data-ttu-id="ee0aa-123">-lib-libdirectory1 [, libdirectory2,..]</span><span class="sxs-lookup"><span data-stu-id="ee0aa-123">-lib libdirectory1[,libdirectory2,..]</span></span>|<span data-ttu-id="ee0aa-124">De kataloger som genomsöks för .NET-sammansättningar, inklusive Windows PowerShell-sammansättningar, sammansättningar som anges av `reference` parametern, sammansättningar som indirekt refereras till av en annan sammansättning och .net-systemets sammansättningar.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-124">The directories that are searched for .NET assemblies, including the Windows PowerShell assemblies, assemblies specified by the `reference` parameter, assemblies indirectly referenced by another assembly, and the .NET system assemblies.</span></span>|
|<span data-ttu-id="ee0aa-125">-referens ca1.dll [, ca2.dll,...]</span><span class="sxs-lookup"><span data-stu-id="ee0aa-125">-reference ca1.dll[,ca2.dll,...]</span></span>|<span data-ttu-id="ee0aa-126">En kommaavgränsad lista över de sammansättningar som ska ingå i gränssnittet.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-126">A comma-separated list of the assemblies to include in the shell.</span></span> <span data-ttu-id="ee0aa-127">Dessa sammansättningar innehåller alla cmdlet-och Provider-sammansättningar, samt resurs sammansättningar som ska läsas in.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-127">These assemblies  includes all cmdlet and provider assemblies, as well as resource assemblies that should be loaded.</span></span> <span data-ttu-id="ee0aa-128">Om den här parametern inte anges skapas ett gränssnitt som bara innehåller de kärn-cmdlets och providers som tillhandahålls av Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-128">If this parameter is not specified, then a shell is produced that contains only the core cmdlets and providers provided by Windows PowerShell.</span></span><br /><br /> <span data-ttu-id="ee0aa-129">Sammansättningarna kan anges med hjälp av sin fullständiga sökväg, annars söks de igenom med den sökväg som anges av `lib` parametern.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-129">The assemblies can be specified using their full path, otherwise they will be searched for using the path specified by the `lib` parameter.</span></span>|
|<span data-ttu-id="ee0aa-130">-formatdata fd1.format.ps1XML [, fd2.format.ps1XML,...]</span><span class="sxs-lookup"><span data-stu-id="ee0aa-130">-formatdata fd1.format.ps1xml[,fd2.format.ps1xml,...]</span></span>|<span data-ttu-id="ee0aa-131">En kommaavgränsad lista med format data som ska tas med i gränssnittet.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-131">A comma-separated list of format data to include in the shell.</span></span> <span data-ttu-id="ee0aa-132">Om den här parametern inte anges skapas ett gränssnitt som bara innehåller de format data som tillhandahålls av Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-132">If this parameter is not specified, then a shell is produced that contains only the format data provided by Windows PowerShell.</span></span>|
|<span data-ttu-id="ee0aa-133">-typedata td1.type.ps1XML [, td2.type.ps1XML,...]</span><span class="sxs-lookup"><span data-stu-id="ee0aa-133">-typedata td1.type.ps1xml[,td2.type.ps1xml,...]</span></span>|<span data-ttu-id="ee0aa-134">En kommaavgränsad lista med typ data som ska tas med i gränssnittet.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-134">A comma-separated list of type data to include in the shell.</span></span> <span data-ttu-id="ee0aa-135">Om den här parametern inte anges skapas ett gränssnitt som bara innehåller de typ data som tillhandahålls av Windows PowerShell.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-135">If this parameter is not specified, then a shell is produced that contains only the type data provided by Windows PowerShell.</span></span>|
|<span data-ttu-id="ee0aa-136">-source c1.cs [, c2.cs,...]</span><span class="sxs-lookup"><span data-stu-id="ee0aa-136">-source c1.cs [,c2.cs,...]</span></span>|<span data-ttu-id="ee0aa-137">Namnet på en fil, som tillhandahålls av Shell-utvecklaren, som innehåller alla käll koder som krävs för att bygga gränssnittet.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-137">The name of a file, provided by the shell developer, that contains any source code needed to build the shell.</span></span><br /><br /> <span data-ttu-id="ee0aa-138">Käll kods filen kan innehålla någon av följande käll koder:</span><span class="sxs-lookup"><span data-stu-id="ee0aa-138">The source code file can contain any of the following source code:</span></span><br /><br /> <span data-ttu-id="ee0aa-139">– Den Auktoriseringshanteraren-implementering som åsidosätter standard hanteraren för Auktoriseringshanteraren.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-139">-   The Authorization manager implementation that overrides the default authorization manager.</span></span> <span data-ttu-id="ee0aa-140">(Detta kan också anges kompileras till en sammansättning.)</span><span class="sxs-lookup"><span data-stu-id="ee0aa-140">(This could also be supplied compiled into an assembly.)</span></span><br /><span data-ttu-id="ee0aa-141">– Assembly information Attribute-deklarationer: till exempel AssemblyCompanyAttribute, AssemblyCopyrightAttribute, AssemblyFileVersionAttribute, AssemblyInformationalVersionAttribute, AssemblyProductAttribute och AssemblyTrademarkAttribute.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-141">-   Assembly informational attribute declarations: such as the AssemblyCompanyAttribute, AssemblyCopyrightAttribute, AssemblyFileVersionAttribute, AssemblyInformationalVersionAttribute, AssemblyProductAttribute, and AssemblyTrademarkAttribute.</span></span>|
|<span data-ttu-id="ee0aa-142">-authorizationmanager authorizationManagerType</span><span class="sxs-lookup"><span data-stu-id="ee0aa-142">-authorizationmanager authorizationManagerType</span></span>|<span data-ttu-id="ee0aa-143">Den typ som innehåller implementeringen av Auktoriseringshanteraren.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-143">The type that contains the authorization manager implementation.</span></span> <span data-ttu-id="ee0aa-144">Detta kan definieras i käll koden eller kompileras till en sammansättning (anges av `reference` parametern).</span><span class="sxs-lookup"><span data-stu-id="ee0aa-144">This can be defined in source code, or compiled into an assembly (specified by the `reference` parameter).</span></span> <span data-ttu-id="ee0aa-145">Om den här parametern inte anges används standard säkerhets hanteraren.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-145">If this parameter is not specified, the default security manager is used.</span></span> <span data-ttu-id="ee0aa-146">Värdet ska vara ett fullständigt typnamn, inklusive namn områden.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-146">The value should be the full type name, including namespaces.</span></span>|
|<span data-ttu-id="ee0aa-147">-win32icon i. ico</span><span class="sxs-lookup"><span data-stu-id="ee0aa-147">-win32icon i.ico</span></span>|<span data-ttu-id="ee0aa-148">Ikonen för. exe-filen för gränssnittet.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-148">The icon for the .exe file for the shell.</span></span> <span data-ttu-id="ee0aa-149">Om detta inte anges kommer gränssnittet att ha den ikon som c#-kompilatorn inkluderar (om det finns några).</span><span class="sxs-lookup"><span data-stu-id="ee0aa-149">If not specified, then the shell will have the icon that the c# compiler includes (if any).</span></span>|
|<span data-ttu-id="ee0aa-150">– initscript p.ps1</span><span class="sxs-lookup"><span data-stu-id="ee0aa-150">-initscript p.ps1</span></span>|<span data-ttu-id="ee0aa-151">Start profilen för gränssnittet.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-151">The startup profile for the shell.</span></span> <span data-ttu-id="ee0aa-152">Filen ingår "i befintligt skick"; ingen giltighets kontroll utförs med ett märke.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-152">The file is included "as-is"; no validity checking is done by Make-Shell.</span></span>|
|<span data-ttu-id="ee0aa-153">-builtinscript s1.ps1 [, s2.ps1,...]</span><span class="sxs-lookup"><span data-stu-id="ee0aa-153">-builtinscript s1.ps1[,s2.ps1,...]</span></span>|<span data-ttu-id="ee0aa-154">En lista med inbyggda skript för gränssnittet.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-154">A list of built-in scripts for the shell.</span></span> <span data-ttu-id="ee0aa-155">Dessa skript identifieras före skript i sökvägen och deras innehåll kan inte ändras när gränssnittet har skapats.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-155">These scripts are discovered before scripts in the path, and their contents cannot be changed once the shell is built.</span></span><br /><br /> <span data-ttu-id="ee0aa-156">Filerna ingår "i befintligt skick"; ingen giltighets kontroll utförs med ett märke.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-156">The files are included "as-is"; no validity checking is done by Make-Shell.</span></span>|
|<span data-ttu-id="ee0aa-157">– resurs resourcefile.txt</span><span class="sxs-lookup"><span data-stu-id="ee0aa-157">-resource resourcefile.txt</span></span>|<span data-ttu-id="ee0aa-158">Txt-filen som innehåller hjälp-och informations resurser för gränssnittet.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-158">The .txt file containing help and banner resources for the shell.</span></span> <span data-ttu-id="ee0aa-159">Den första resursen heter ShellHelp och innehåller den text som visas om gränssnittet anropas med `help` parametern.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-159">The first resource is named ShellHelp, and contains the text displayed if the shell is invoked with the `help` parameter.</span></span> <span data-ttu-id="ee0aa-160">Den andra resursen heter ShellBanner och innehåller texten och copyrightinformation som visas när gränssnittet startas i interaktivt läge.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-160">The second resource is named ShellBanner, and it contains the text and copyright information displayed when the shell is launched in interactive mode.</span></span><br /><br /> <span data-ttu-id="ee0aa-161">Om den här parametern inte anges eller om dessa resurser inte finns, används en generisk hjälp och banderoll.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-161">If this parameter is not provided, or these resources are not present, then a generic help and banner are used.</span></span>|
|<span data-ttu-id="ee0aa-162">-cscflags cscFlags</span><span class="sxs-lookup"><span data-stu-id="ee0aa-162">-cscflags cscFlags</span></span>|<span data-ttu-id="ee0aa-163">Flaggor som ska skickas till C#-kompilatorn (csc.exe).</span><span class="sxs-lookup"><span data-stu-id="ee0aa-163">Flags that should be passed to the C# compiler (csc.exe).</span></span> <span data-ttu-id="ee0aa-164">Dessa skickas genom oförändrade.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-164">These are passed through unchanged.</span></span> <span data-ttu-id="ee0aa-165">Om den här parametern innehåller blank steg ska den omges av dubbla citat tecken.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-165">If this parameter includes spaces, it should be surrounded in double-quotes.</span></span>|
|<span data-ttu-id="ee0aa-166">-?</span><span class="sxs-lookup"><span data-stu-id="ee0aa-166">-?</span></span><br /><br /> <span data-ttu-id="ee0aa-167">– hjälp</span><span class="sxs-lookup"><span data-stu-id="ee0aa-167">-help</span></span>|<span data-ttu-id="ee0aa-168">Visar Copyright-meddelandet och Make-Shell kommando rads alternativ.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-168">Displays the copyright message and Make-Shell command line options.</span></span>|
|<span data-ttu-id="ee0aa-169">– utförlig</span><span class="sxs-lookup"><span data-stu-id="ee0aa-169">-verbose</span></span>|<span data-ttu-id="ee0aa-170">Visar detaljerad information medan gränssnittet skapas.</span><span class="sxs-lookup"><span data-stu-id="ee0aa-170">Displays detailed information while the shell is being created.</span></span>|

## <a name="see-also"></a><span data-ttu-id="ee0aa-171">Se även</span><span class="sxs-lookup"><span data-stu-id="ee0aa-171">See Also</span></span>

[<span data-ttu-id="ee0aa-172">Programmeringsguide för Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="ee0aa-172">Windows PowerShell Programmer's Guide</span></span>](./windows-powershell-programmer-s-guide.md)

[<span data-ttu-id="ee0aa-173">Windows PowerShell SDK</span><span class="sxs-lookup"><span data-stu-id="ee0aa-173">Windows PowerShell SDK</span></span>](../windows-powershell-reference.md)
