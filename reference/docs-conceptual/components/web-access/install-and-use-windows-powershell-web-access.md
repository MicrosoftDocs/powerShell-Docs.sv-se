---
ms.date: 08/23/2017
keywords: PowerShell, cmdlet
title: Installera och använda Windows PowerShell-Webbåtkomst
ms.openlocfilehash: a3207c859c4b93b07d4c1b41d7df5269daa39a7d
ms.sourcegitcommit: 6545c60578f7745be015111052fd7769f8289296
ms.translationtype: MT
ms.contentlocale: sv-SE
ms.lasthandoff: 04/22/2020
ms.locfileid: "79407044"
---
# <a name="install-and-use-windows-powershell-web-access"></a><span data-ttu-id="9ade4-103">Installera och använda Windows PowerShell-Webbåtkomst</span><span class="sxs-lookup"><span data-stu-id="9ade4-103">Install and Use Windows PowerShell Web Access</span></span>

<span data-ttu-id="9ade4-104">Uppdaterat: 5 november 2013 (redigerad: 23 augusti 2017)</span><span class="sxs-lookup"><span data-stu-id="9ade4-104">Updated: November 5, 2013 (Edited: August 23, 2017)</span></span>

<span data-ttu-id="9ade4-105">Gäller för: Windows Server 2012 R2, Windows Server 2012</span><span class="sxs-lookup"><span data-stu-id="9ade4-105">Applies To: Windows Server 2012 R2, Windows Server 2012</span></span>

## <a name="introduction"></a><span data-ttu-id="9ade4-106">Introduktion</span><span class="sxs-lookup"><span data-stu-id="9ade4-106">Introduction</span></span>

<span data-ttu-id="9ade4-107">Windows PowerShell-webbåtkomst, som introducerades i Windows Server 2012, fungerar som en Windows PowerShell-Gateway, vilket ger en webbaserad Windows PowerShell-konsol som är riktad mot en fjärrdator.</span><span class="sxs-lookup"><span data-stu-id="9ade4-107">Windows PowerShell Web Access, first introduced in Windows Server 2012, acts as a Windows PowerShell gateway, providing a web-based Windows PowerShell console that is targeted at a remote computer.</span></span> <span data-ttu-id="9ade4-108">Det gör det möjligt för IT-proffs att köra Windows PowerShell-kommandon och-skript från en Windows PowerShell-konsol i en webbläsare, utan Windows PowerShell, program vara för fjärrhantering eller webb läsar installation som krävs på klient enheten.</span><span class="sxs-lookup"><span data-stu-id="9ade4-108">It enables IT Pros to run Windows PowerShell commands and scripts from a Windows PowerShell console in a web browser, with no Windows PowerShell, remote management software, or browser plug-in installation necessary on the client device.</span></span> <span data-ttu-id="9ade4-109">Allt som krävs för att köra den webbaserade Windows PowerShell-konsolen är en korrekt konfigurerad Gateway för Windows PowerShell-webbåtkomst och en webbläsare för klient enheter som stöder Java Script och accepterar cookies.</span><span class="sxs-lookup"><span data-stu-id="9ade4-109">All that is required to run the web-based Windows PowerShell console is a properly-configured Windows PowerShell Web Access gateway, and a client device browser that supports JavaScript and accepts cookies.</span></span>

<span data-ttu-id="9ade4-110">Exempel på klient enheter är bärbara datorer, icke-arbetsdatorer, lånade datorer, Tablet-datorer, webb kiosker, datorer som inte kör ett Windows-baserat operativ system och en mobil telefon webbläsare.</span><span class="sxs-lookup"><span data-stu-id="9ade4-110">Examples of client devices include laptops, non-work personal computers, borrowed computers, tablet computers, web kiosks, computers that are not running a Windows-based operating system, and cell phone browsers.</span></span> <span data-ttu-id="9ade4-111">IT-proffs kan utföra kritiska hanterings uppgifter på fjärranslutna Windows-baserade servrar från enheter som har åtkomst till en Internet anslutning och en webbläsare.</span><span class="sxs-lookup"><span data-stu-id="9ade4-111">IT Pros can perform critical management tasks on remote Windows-based servers from devices that have access to an Internet connection and a web browser.</span></span>

<span data-ttu-id="9ade4-112">Efter en lyckad gateway-konfiguration och konfiguration kan användare komma åt en Windows PowerShell-konsol med hjälp av en webbläsare.</span><span class="sxs-lookup"><span data-stu-id="9ade4-112">After successful gateway setup and configuration, users can access a Windows PowerShell console by using a web browser.</span></span> <span data-ttu-id="9ade4-113">När användarna öppnar den säkra webbplatsen för Windows PowerShell-webbåtkomst kan de köra en webbaserad Windows PowerShell-konsol efter lyckad autentisering.</span><span class="sxs-lookup"><span data-stu-id="9ade4-113">When users open the secured Windows PowerShell Web Access website, they can run a web-based Windows PowerShell console after successful authentication.</span></span>

<span data-ttu-id="9ade4-114">Konfiguration och konfiguration av Windows PowerShell-webbåtkomst är en process i tre steg:</span><span class="sxs-lookup"><span data-stu-id="9ade4-114">Windows PowerShell Web Access setup and configuration is a three-step process:</span></span>

1. [<span data-ttu-id="9ade4-115">Installera Windows PowerShell-Webbåtkomst</span><span class="sxs-lookup"><span data-stu-id="9ade4-115">Install Windows PowerShell Web Access</span></span>](#install-windows-powershell-web-access-using-powershell-cmdlets)
1. [<span data-ttu-id="9ade4-116">Konfigurera gatewayen</span><span class="sxs-lookup"><span data-stu-id="9ade4-116">Configure the Gateway</span></span>](#configure-the-gateway)
1. [<span data-ttu-id="9ade4-117">Konfigurera en begränsnings regel för auktorisering</span><span class="sxs-lookup"><span data-stu-id="9ade4-117">Configure a restrictive authorization rule</span></span>](#configure-a-restrictive-authorization-rule)

<span data-ttu-id="9ade4-118">Innan du installerar och konfigurerar Windows PowerShell-webbåtkomsten rekommenderar vi att du läser hela den här guiden, som innehåller instruktioner om hur du installerar, skyddar och avinstallerar Windows PowerShell-webbåtkomst.</span><span class="sxs-lookup"><span data-stu-id="9ade4-118">Before you install and configure Windows PowerShell Web Access, we recommend that you read this entire guide, which includes instructions about how to install, secure, and uninstall Windows PowerShell Web Access.</span></span> <span data-ttu-id="9ade4-119">Avsnittet [Använd den webbaserade Windows PowerShell-konsolen](/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/hh831417(v=ws.11)) beskriver hur användare loggar in i den webbaserade konsolen och täcker begränsningar och skillnader mellan den webbaserade Windows PowerShell-konsolen och **PowerShell. exe** -konsolen.</span><span class="sxs-lookup"><span data-stu-id="9ade4-119">The [Use the Web-based Windows PowerShell Console](/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/hh831417(v=ws.11)) topic describes how users sign in to the web-based console, and covers limitations and differences between the web-based Windows PowerShell console and the **powershell.exe** console.</span></span> <span data-ttu-id="9ade4-120">Slutanvändare av den webbaserade-konsolen bör läsa [Använd den webbaserade Windows PowerShell-konsolen](use-the-web-based-windows-powershell-console.md), men behöver inte läsa resten av den här guiden.</span><span class="sxs-lookup"><span data-stu-id="9ade4-120">End users of the web-based console should read [Use the Web based Windows PowerShell Console](use-the-web-based-windows-powershell-console.md), but do not need to read the rest of this guide.</span></span>

<span data-ttu-id="9ade4-121">Det här avsnittet innehåller inte detaljerad vägledning för IIS-webbserverns åtgärder. endast de steg som krävs för att konfigurera Windows PowerShell-webbåtkomst-gatewayen beskrivs i det här avsnittet.</span><span class="sxs-lookup"><span data-stu-id="9ade4-121">This topic does not provide in-depth IIS Web Server operations guidance; only those steps required to configure the Windows PowerShell Web Access gateway are described in this topic.</span></span> <span data-ttu-id="9ade4-122">Mer information om hur du konfigurerar och säkrar webbplatser i IIS finns i dokumentations resurserna för IIS i avsnittet Se även.</span><span class="sxs-lookup"><span data-stu-id="9ade4-122">For more information about configuring and securing websites in IIS, see the IIS documentation resources in the See Also section.</span></span>

<span data-ttu-id="9ade4-123">Följande diagram visar hur Windows PowerShell-webbåtkomst fungerar.</span><span class="sxs-lookup"><span data-stu-id="9ade4-123">The following diagram shows how Windows PowerShell Web Access works.</span></span>

![Windows PowerShell-diagram för webb åtkomst](media/install-and-use-windows-powershell-web-access/Windows-PowerShell-Web-Access-diagram.jpg)

## <a name="requirements-for-running-windows-powershell-web-access"></a><span data-ttu-id="9ade4-125">Krav för att köra Windows PowerShell-Webbåtkomst</span><span class="sxs-lookup"><span data-stu-id="9ade4-125">Requirements for running Windows PowerShell Web Access</span></span>

<span data-ttu-id="9ade4-126">Windows PowerShell-webbåtkomsten kräver webb server (IIS), .NET Framework 4,5 och Windows PowerShell 3,0 eller Windows PowerShell 4,0 för att köras på den server där du vill köra gatewayen.</span><span class="sxs-lookup"><span data-stu-id="9ade4-126">Windows PowerShell Web Access requires Web Server (IIS), .NET Framework 4.5, and Windows PowerShell 3.0 or Windows PowerShell 4.0 to be running on the server on which you want to run the gateway.</span></span> <span data-ttu-id="9ade4-127">Du kan installera Windows PowerShell-webbåtkomst på en server som kör Windows Server 2012 R2 eller Windows Server 2012 genom att antingen använda guiden Lägg till roller och funktioner i Serverhanteraren eller Windows PowerShell-distributions-cmdletar för Serverhanteraren.</span><span class="sxs-lookup"><span data-stu-id="9ade4-127">You can install Windows PowerShell Web Access on a server that is running Windows Server 2012 R2 or Windows Server 2012 by using either the Add Roles and Features Wizard in Server Manager, or Windows PowerShell deployment cmdlets for Server Manager.</span></span> <span data-ttu-id="9ade4-128">När du installerar Windows PowerShell-webbåtkomst med hjälp av Serverhanteraren eller dess distributions-cmdletar läggs nödvändiga roller och funktioner automatiskt till som en del av installations processen.</span><span class="sxs-lookup"><span data-stu-id="9ade4-128">When you install Windows PowerShell Web Access by using Server Manager or its deployment cmdlets, required roles and features are automatically added as part of the installation process.</span></span>

<span data-ttu-id="9ade4-129">Med Windows PowerShell-webbåtkomsten kan fjärran vändare få åtkomst till datorer i din organisation med hjälp av Windows PowerShell i en webbläsare.</span><span class="sxs-lookup"><span data-stu-id="9ade4-129">Windows PowerShell Web Access allows remote users to access computers in your organization by using Windows PowerShell in a web browser.</span></span> <span data-ttu-id="9ade4-130">Även om Windows PowerShell-webbåtkomsten är ett bekvämt och kraftfullt hanterings verktyg utgör den webbaserade åtkomsten säkerhets risker och bör konfigureras så säkert som möjligt.</span><span class="sxs-lookup"><span data-stu-id="9ade4-130">Although Windows PowerShell Web Access is a convenient and powerful management tool, the web-based access poses security risks, and should be configured as securely as possible.</span></span> <span data-ttu-id="9ade4-131">Vi rekommenderar att administratörer som konfigurerar Windows PowerShell-webbåtkomst-gatewayen använder tillgängliga säkerhets lager, både cmdlet-baserade auktoriseringsregler som ingår i Windows PowerShell-webbåtkomsten och säkerhets lager som är tillgängliga i webb server (IIS) och program från tredje part.</span><span class="sxs-lookup"><span data-stu-id="9ade4-131">We recommend that administrators who configure the Windows PowerShell Web Access gateway use available security layers, both the cmdlet-based authorization rules included with Windows PowerShell Web Access, and security layers that are available in Web Server (IIS) and third-party applications.</span></span> <span data-ttu-id="9ade4-132">Den här dokumentationen innehåller både osäkra exempel som bara rekommenderas för test miljöer, samt exempel som rekommenderas för säkra distributioner.</span><span class="sxs-lookup"><span data-stu-id="9ade4-132">This documentation includes both unsecure examples that are only recommended for test environments, as well as examples that are recommended for secure deployments.</span></span>

## <a name="browser-and-client-device-support"></a><span data-ttu-id="9ade4-133">Webbläsare och klienten hets stöd</span><span class="sxs-lookup"><span data-stu-id="9ade4-133">Browser and client device support</span></span>

<span data-ttu-id="9ade4-134">Windows PowerShell-webbåtkomsten stöder följande webbläsare i Internet.</span><span class="sxs-lookup"><span data-stu-id="9ade4-134">Windows PowerShell Web Access supports the following Internet browsers.</span></span> <span data-ttu-id="9ade4-135">Även om mobila webbläsare inte stöds officiellt, kan många kunna köra den webbaserade Windows PowerShell-konsolen.</span><span class="sxs-lookup"><span data-stu-id="9ade4-135">Although mobile browsers are not officially supported, many may be able to run the web-based Windows PowerShell console.</span></span>
<span data-ttu-id="9ade4-136">Andra webbläsare som accepterar cookies, kör Java Script och kör HTTPS-webbplatser förväntas fungera, men är inte officiellt testade.</span><span class="sxs-lookup"><span data-stu-id="9ade4-136">Other browsers that accept cookies, run JavaScript, and run HTTPS websites are expected to work, but are not officially tested.</span></span>

### <a name="supported-desktop-computer-browsers"></a><span data-ttu-id="9ade4-137">Webbläsare för Station ära datorer som stöds</span><span class="sxs-lookup"><span data-stu-id="9ade4-137">Supported desktop computer browsers</span></span>

- <span data-ttu-id="9ade4-138">Windows Internet Explorer för Microsoft Windows 8,0, 9,0, 10,0 och 11,0</span><span class="sxs-lookup"><span data-stu-id="9ade4-138">Windows Internet Explorer for Microsoft Windows 8.0, 9.0, 10.0, and 11.0</span></span>
- <span data-ttu-id="9ade4-139">Mozilla Firefox-10.0.2</span><span class="sxs-lookup"><span data-stu-id="9ade4-139">Mozilla Firefox 10.0.2</span></span>
- <span data-ttu-id="9ade4-140">Google Chrome 17.0.963.56 m för Windows</span><span class="sxs-lookup"><span data-stu-id="9ade4-140">Google Chrome 17.0.963.56m for Windows</span></span>
- <span data-ttu-id="9ade4-141">Apple Safari 5.1.2 för Windows</span><span class="sxs-lookup"><span data-stu-id="9ade4-141">Apple Safari 5.1.2 for Windows</span></span>
- <span data-ttu-id="9ade4-142">Apple Safari 5.1.2 för Mac OS</span><span class="sxs-lookup"><span data-stu-id="9ade4-142">Apple Safari 5.1.2 for Mac OS</span></span>

### <a name="minimally-tested-mobile-devices-or-browsers"></a><span data-ttu-id="9ade4-143">Minimalt testade mobila enheter eller webbläsare</span><span class="sxs-lookup"><span data-stu-id="9ade4-143">Minimally-tested mobile devices or browsers</span></span>

- <span data-ttu-id="9ade4-144">Windows Phone 7 och 7,5</span><span class="sxs-lookup"><span data-stu-id="9ade4-144">Windows Phone 7 and 7.5</span></span>
- <span data-ttu-id="9ade4-145">Google Android WebKit 3,1 Browser Android 2.2.1 (kernel 2,6)</span><span class="sxs-lookup"><span data-stu-id="9ade4-145">Google Android WebKit 3.1 Browser Android 2.2.1 (Kernel 2.6)</span></span>
- <span data-ttu-id="9ade4-146">5.0.1 för Apple Safari för iPhone-operativsystem</span><span class="sxs-lookup"><span data-stu-id="9ade4-146">Apple Safari for iPhone operating system 5.0.1</span></span>
- <span data-ttu-id="9ade4-147">Operativ systemet Apple Safari för iPad 2 5.0.1</span><span class="sxs-lookup"><span data-stu-id="9ade4-147">Apple Safari for iPad 2 operating system 5.0.1</span></span>

### <a name="browser-requirements"></a><span data-ttu-id="9ade4-148">Krav på webbläsare</span><span class="sxs-lookup"><span data-stu-id="9ade4-148">Browser requirements</span></span>

<span data-ttu-id="9ade4-149">Om du vill använda webb åtkomst till Windows PowerShell-webbbaserad konsol måste webbläsare göra följande.</span><span class="sxs-lookup"><span data-stu-id="9ade4-149">To use the Windows PowerShell Web Access web-based console, browsers must do the following.</span></span>

- <span data-ttu-id="9ade4-150">Tillåt cookies från webbplatsen för gateway för Windows PowerShell-webbåtkomst.</span><span class="sxs-lookup"><span data-stu-id="9ade4-150">Allow cookies from the Windows PowerShell Web Access gateway website.</span></span>
- <span data-ttu-id="9ade4-151">Kunna öppna och läsa HTTPS-sidor.</span><span class="sxs-lookup"><span data-stu-id="9ade4-151">Be able to open and read HTTPS pages.</span></span>
- <span data-ttu-id="9ade4-152">Öppna och kör webbplatser som använder Java Script.</span><span class="sxs-lookup"><span data-stu-id="9ade4-152">Open and run websites that use JavaScript.</span></span>

## <a name="recommended-quick-deployment"></a><span data-ttu-id="9ade4-153">Rekommenderad snabb distribution</span><span class="sxs-lookup"><span data-stu-id="9ade4-153">Recommended quick deployment</span></span>

<span data-ttu-id="9ade4-154">Du kan installera Windows PowerShell-webbåtkomst-gatewayen på en server som kör Windows Server 2012 R2 eller Windows Server 2012 med hjälp av Windows PowerShell-cmdlets eller med hjälp av guiden Lägg till roller och funktioner som öppnas från Serverhanteraren.</span><span class="sxs-lookup"><span data-stu-id="9ade4-154">You can install the Windows PowerShell Web Access gateway on a server that is running Windows Server 2012 R2 or Windows Server 2012 by using either Windows PowerShell cmdlets, or by using the Add Roles and Features Wizard that is opened from within Server Manager.</span></span> <span data-ttu-id="9ade4-155">Använd Windows PowerShell-cmdlets för snabb installation och konfiguration, enligt beskrivningen i det här avsnittet.</span><span class="sxs-lookup"><span data-stu-id="9ade4-155">For quick installation and configuration, use Windows PowerShell cmdlets, as described in this section.</span></span>

1. [<span data-ttu-id="9ade4-156">Installera Windows PowerShell-Webbåtkomst</span><span class="sxs-lookup"><span data-stu-id="9ade4-156">Install Windows PowerShell Web Access</span></span>](#install-windows-powershell-web-access-using-powershell-cmdlets)
1. [<span data-ttu-id="9ade4-157">Konfigurera gatewayen</span><span class="sxs-lookup"><span data-stu-id="9ade4-157">Configure the Gateway</span></span>](#configure-the-gateway)
1. [<span data-ttu-id="9ade4-158">Konfigurera en begränsnings regel för auktorisering</span><span class="sxs-lookup"><span data-stu-id="9ade4-158">Configure a restrictive authorization rule</span></span>](#configure-a-restrictive-authorization-rule)

### <a name="install-windows-powershell-web-access-using-powershell-cmdlets"></a><span data-ttu-id="9ade4-159">Installera Windows PowerShell-webbåtkomst med PowerShell-cmdletar</span><span class="sxs-lookup"><span data-stu-id="9ade4-159">Install Windows PowerShell Web Access using PowerShell cmdlets</span></span>

#### <a name="to-install-windows-powershell-web-access-by-using-windows-powershell-cmdlets"></a><span data-ttu-id="9ade4-160">Så här installerar du Windows PowerShell-webbåtkomst med hjälp av Windows PowerShell-cmdletar</span><span class="sxs-lookup"><span data-stu-id="9ade4-160">To install Windows PowerShell Web Access by using Windows PowerShell cmdlets</span></span>

1. <span data-ttu-id="9ade4-161">Gör något av följande för att öppna en Windows PowerShell-session med utökade användarrättigheter.</span><span class="sxs-lookup"><span data-stu-id="9ade4-161">Do one of the following to open a Windows PowerShell session with elevated user rights.</span></span>

   - <span data-ttu-id="9ade4-162">På Windows-skrivbordet högerklickar du på **Windows PowerShell** i aktivitetsfältet och klickar sedan på **Kör som administratör**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-162">On the Windows desktop, right-click **Windows PowerShell** on the taskbar, and then click **Run as Administrator**.</span></span>
   - <span data-ttu-id="9ade4-163">På **Start** skärmen i Windows högerklickar du på **Windows PowerShell**och klickar sedan på **Kör som administratör**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-163">On the Windows **Start** screen, right-click **Windows PowerShell**, and then click **Run as Administrator**.</span></span>

   > [!NOTE]
   > <span data-ttu-id="9ade4-164">I Windows PowerShell 3,0 och 4,0 behöver du inte importera modulen Serverhanteraren cmdlet till Windows PowerShell-sessionen innan du kör cmdletar som ingår i modulen.</span><span class="sxs-lookup"><span data-stu-id="9ade4-164">In Windows PowerShell 3.0 and 4.0, there is no need to import the Server Manager cmdlet module into the Windows PowerShell session before running cmdlets that are part of the module.</span></span> <span data-ttu-id="9ade4-165">En modul importeras automatiskt första gången du kör en cmdlet som ingår i modulen.</span><span class="sxs-lookup"><span data-stu-id="9ade4-165">A module is automatically imported the first time you run a cmdlet that is part of the module.</span></span>
   > <span data-ttu-id="9ade4-166">Dessutom är Windows PowerShell-cmdletar inte Skift läges känsliga.</span><span class="sxs-lookup"><span data-stu-id="9ade4-166">Also, Windows PowerShell cmdlets are not case-sensitive.</span></span>

1. <span data-ttu-id="9ade4-167">Skriv följande och tryck sedan på **RETUR**, där *computer_name* representerar en fjärrdator där du vill installera Windows PowerShell-webbåtkomst, om tillämpligt.</span><span class="sxs-lookup"><span data-stu-id="9ade4-167">Type the following, and then press **Enter**, where *computer_name* represents a remote computer on which you want to install Windows PowerShell Web Access, if applicable.</span></span> <span data-ttu-id="9ade4-168">`-Restart` Parametern startar automatiskt om mål servrarna om det behövs.</span><span class="sxs-lookup"><span data-stu-id="9ade4-168">The `-Restart` parameter automatically restarts destination servers if required.</span></span>

   `Install-WindowsFeature -Name WindowsPowerShellWebAccess -ComputerName <computer_name> -IncludeManagementTools -Restart`

   > [!NOTE]
   > <span data-ttu-id="9ade4-169">Om du installerar Windows PowerShell-webbåtkomst med hjälp av Windows PowerShell-cmdlets läggs inte hanterings verktyg för webb server (IIS) som standard till.</span><span class="sxs-lookup"><span data-stu-id="9ade4-169">Installing Windows PowerShell Web Access by using Windows PowerShell cmdlets does not add Web Server (IIS) management tools by default.</span></span> <span data-ttu-id="9ade4-170">Om du vill installera hanterings verktygen på samma server som Windows PowerShell Web Access Gateway, lägger du till `-IncludeManagementTools` parametern i installations kommandot (enligt vad som anges i det här steget).</span><span class="sxs-lookup"><span data-stu-id="9ade4-170">If you want to install the management tools on the same server as the Windows PowerShell Web Access gateway, add the `-IncludeManagementTools` parameter to the installation command (as provided in this step).</span></span> <span data-ttu-id="9ade4-171">Om du hanterar webbplatsen för Windows PowerShell-webbåtkomsten från en fjärrdator, installerar du snapin-modulen IIS-hanteraren genom att installera [verktyg för fjärrserveradministration för windows 8,1](https://www.microsoft.com/en-us/download/details.aspx?id=39296) eller [verktyg för fjärrserveradministration för Windows 8](https://www.microsoft.com/en-us/download/details.aspx?id=28972) på den dator som du vill hantera gatewayen från.</span><span class="sxs-lookup"><span data-stu-id="9ade4-171">If you are managing the Windows PowerShell Web Access website from a remote computer, install the IIS Manager snap-in by installing [Remote Server Administration Tools for Windows 8.1](https://www.microsoft.com/en-us/download/details.aspx?id=39296) or [Remote Server Administration Tools for Windows 8](https://www.microsoft.com/en-us/download/details.aspx?id=28972) on the computer from which you want to manage the gateway.</span></span>

   <span data-ttu-id="9ade4-172">Om du vill installera roller och funktioner på en offline-VHD måste du lägga `-ComputerName` till både parametern `-VHD` och parametern.</span><span class="sxs-lookup"><span data-stu-id="9ade4-172">To install roles and features on an offline VHD, you must add both the `-ComputerName` parameter and the `-VHD` parameter.</span></span> <span data-ttu-id="9ade4-173">Parametern `-ComputerName`, innehåller namnet på servern på vilken du vill montera VHD:n, och parametern `-VHD` innehåller sökvägen till VHD-filen på den angivna servern.</span><span class="sxs-lookup"><span data-stu-id="9ade4-173">The `-ComputerName` parameter contains the name of the server on which to mount the VHD, and the `-VHD` parameter contains the path to the VHD file on the specified server.</span></span>

   `Install-WindowsFeature -Name WindowsPowerShellWebAccess -VHD <path> -ComputerName <computer_name> -IncludeManagementTools -Restart`

1. <span data-ttu-id="9ade4-174">När installationen är klar kontrollerar du att Windows PowerShell-webbåtkomsten har installerats på mål servrarna genom `Get-WindowsFeature` att köra cmdleten på en mål server i en Windows PowerShell-konsol som har öppnats med utökade användar rättigheter.</span><span class="sxs-lookup"><span data-stu-id="9ade4-174">When installation is complete, verify that Windows PowerShell Web Access was installed on destination servers by running the `Get-WindowsFeature` cmdlet on a destination server, in a Windows PowerShell console that has been opened with elevated user rights.</span></span> <span data-ttu-id="9ade4-175">Du kan också kontrol lera att Windows PowerShell-webbåtkomsten har installerats i Serverhanteraren-konsolen genom att välja en mål server på sidan **alla servrar** och sedan Visa panelen **roller och funktioner** för den valda servern.</span><span class="sxs-lookup"><span data-stu-id="9ade4-175">You can also verify that Windows PowerShell Web Access was installed in the Server Manager console, by selecting a destination server on the **All Servers** page, and then viewing the **Roles and Features** tile for the selected server.</span></span> <span data-ttu-id="9ade4-176">Du kan också Visa Readme-filen för Windows PowerShell-webbåtkomst.</span><span class="sxs-lookup"><span data-stu-id="9ade4-176">You can also view the readme file for Windows PowerShell Web Access.</span></span>

1. <span data-ttu-id="9ade4-177">När Windows PowerShell-webbåtkomsten har installerats uppmanas du att gå igenom Readme-filen, som innehåller grundläggande, nödvändiga installations anvisningar för gatewayen.</span><span class="sxs-lookup"><span data-stu-id="9ade4-177">After Windows PowerShell Web Access is installed, you are prompted to review the readme file, which contains basic, required setup instructions for the gateway.</span></span> <span data-ttu-id="9ade4-178">Dessa installations anvisningar finns också i följande avsnitt: [Konfigurera gatewayen](#configure-the-gateway).</span><span class="sxs-lookup"><span data-stu-id="9ade4-178">These setup instructions are also in the following section, [Configure the Gateway](#configure-the-gateway).</span></span> <span data-ttu-id="9ade4-179">Sökvägen till Readme-filen är `C:\Windows\Web\PowerShellWebAccess\wwwroot\README.txt`.</span><span class="sxs-lookup"><span data-stu-id="9ade4-179">The path to the readme file is `C:\Windows\Web\PowerShellWebAccess\wwwroot\README.txt`.</span></span>

### <a name="configure-the-gateway"></a><span data-ttu-id="9ade4-180">Konfigurera gatewayen</span><span class="sxs-lookup"><span data-stu-id="9ade4-180">Configure the Gateway</span></span>

<span data-ttu-id="9ade4-181">Cmdleten **install-PswaWebApplication** är ett snabbt sätt att få Windows PowerShell-webbåtkomsten konfigurerad.</span><span class="sxs-lookup"><span data-stu-id="9ade4-181">The **Install-PswaWebApplication** cmdlet is a quick way to get Windows PowerShell Web Access configured.</span></span> <span data-ttu-id="9ade4-182">Även om du kan lägga `UseTestCertificate` till parametern i `Install-PswaWebApplication` cmdleten för att installera ett självsignerat SSL-certifikat i test syfte är detta inte säkert. för en säker produktions miljö ska du alltid använda ett giltigt SSL-certifikat som har signerats av en certifikat utfärdare (CA).</span><span class="sxs-lookup"><span data-stu-id="9ade4-182">Although you can add the `UseTestCertificate` parameter to the `Install-PswaWebApplication` cmdlet to install a self-signed SSL certificate for test purposes, this is not secure; for a secure production environment, always use a valid SSL certificate that has been signed by a certification authority (CA).</span></span> <span data-ttu-id="9ade4-183">Administratörer kan ersätta test certifikatet med ett signerat certifikat med hjälp av konsolen IIS-hanteraren.</span><span class="sxs-lookup"><span data-stu-id="9ade4-183">Administrators can replace the test certificate with a signed certificate of their choice by using the IIS Manager console.</span></span>

<span data-ttu-id="9ade4-184">Du kan slutföra konfigurationen av webb program för Windows PowerShell Web Access antingen genom `Install-PswaWebApplication` att köra cmdleten eller genom att utföra GUI-baserade konfigurations steg i IIS-hanteraren.</span><span class="sxs-lookup"><span data-stu-id="9ade4-184">You can complete Windows PowerShell Web Access web application configuration either by running the `Install-PswaWebApplication` cmdlet or by performing GUI-based configuration steps in IIS Manager.</span></span>
<span data-ttu-id="9ade4-185">Som standard installerar cmdleten webb programmet, **pswa** (och en programpool för den **pswa_pool**), i **standard** behållaren för webbplatser, som visas i IIS-hanteraren. Om du vill kan du instruera cmdleten att ändra standard webbplats behållaren för webb programmet.</span><span class="sxs-lookup"><span data-stu-id="9ade4-185">By default, the cmdlet installs the web application, **pswa** (and an application pool for it, **pswa_pool**), in the **Default Web Site** container, as shown in IIS Manager; if desired, you can instruct the cmdlet to change the default site container of the web application.</span></span> <span data-ttu-id="9ade4-186">IIS-hanteraren innehåller konfigurations alternativ som är tillgängliga för webb program, till exempel att ändra port numret eller SSL-certifikatet (Secure Sockets Layer).</span><span class="sxs-lookup"><span data-stu-id="9ade4-186">IIS Manager offers configuration options that are available for web applications, such as changing the port number or the Secure Sockets Layer (SSL) certificate.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9ade4-187">Vi rekommenderar starkt att administratörer konfigurerar gatewayen att använda ett giltigt certifikat som har signerats av en certifikat utfärdare.</span><span class="sxs-lookup"><span data-stu-id="9ade4-187">We strongly recommend that administrators configure the gateway to use a valid certificate that has been signed by a CA.</span></span>

#### <a name="to-configure-the-windows-powershell-web-access-gateway-with-a-test-certificate-by-using-install-pswawebapplication"></a><span data-ttu-id="9ade4-188">Så här konfigurerar du gatewayen för Windows PowerShell-webbåtkomsten med ett test certifikat med hjälp av install-PswaWebApplication</span><span class="sxs-lookup"><span data-stu-id="9ade4-188">To configure the Windows PowerShell Web Access gateway with a test certificate by using Install-PswaWebApplication</span></span>

1. <span data-ttu-id="9ade4-189">Gör något av följande för att öppna en Windows PowerShell-session.</span><span class="sxs-lookup"><span data-stu-id="9ade4-189">Do one of the following to open a Windows PowerShell session.</span></span>

   - <span data-ttu-id="9ade4-190">På Windows-skrivbordet högerklickar du på **Windows PowerShell** i aktivitets fältet.</span><span class="sxs-lookup"><span data-stu-id="9ade4-190">On the Windows desktop, right-click **Windows PowerShell** on the taskbar.</span></span>
   - <span data-ttu-id="9ade4-191">På Windows **Start** -skärmen klickar du på **Windows PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-191">On the Windows **Start** screen, click **Windows PowerShell**.</span></span>

2. <span data-ttu-id="9ade4-192">Skriv följande kommando och tryck sedan på **Retur**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-192">Type the following, and then press **Enter**.</span></span>

   `Install-PswaWebApplication -UseTestCertificate`

   > [!IMPORTANT]
   > <span data-ttu-id="9ade4-193">`UseTestCertificate` Parametern bör endast användas i en privat test miljö.</span><span class="sxs-lookup"><span data-stu-id="9ade4-193">The `UseTestCertificate` parameter should only be used in a private test environment.</span></span> <span data-ttu-id="9ade4-194">För en säker produktions miljö rekommenderar vi att du använder ett giltigt certifikat som har signerats av en certifikat utfärdare.</span><span class="sxs-lookup"><span data-stu-id="9ade4-194">For a secure production environment, we recommend using a valid certificate that has been signed by a CA.</span></span>

   <span data-ttu-id="9ade4-195">Om du kör cmdleten installeras webb programmet för Windows PowerShell-webbåtkomsten i standard webbplats behållaren för IIS.</span><span class="sxs-lookup"><span data-stu-id="9ade4-195">Running the cmdlet installs the Windows PowerShell Web Access web application within the IIS Default Web Site container.</span></span> <span data-ttu-id="9ade4-196">Cmdleten skapar den infrastruktur som krävs för att köra Windows PowerShell-webbåtkomst på standard `https://<server_name>/pswa`webbplatsen.</span><span class="sxs-lookup"><span data-stu-id="9ade4-196">The cmdlet creates the infrastructure required to run Windows PowerShell Web Access on the default website, `https://<server_name>/pswa`.</span></span> <span data-ttu-id="9ade4-197">Om du vill installera webb programmet på en annan webbplats anger du namnet på webbplatsen genom att `WebSiteName` lägga till parametern.</span><span class="sxs-lookup"><span data-stu-id="9ade4-197">To install the web application in a different website, provide the website name by adding the `WebSiteName` parameter.</span></span> <span data-ttu-id="9ade4-198">Om du vill ändra namnet på webb programmet (standardvärdet `pswa`är) lägger du `WebApplicationName` till parametern.</span><span class="sxs-lookup"><span data-stu-id="9ade4-198">To change the name of the web application (the default is `pswa`), add the `WebApplicationName` parameter.</span></span>

   <span data-ttu-id="9ade4-199">Följande inställningar konfigureras genom att köra cmdleten.</span><span class="sxs-lookup"><span data-stu-id="9ade4-199">The following settings are configured by running the cmdlet.</span></span> <span data-ttu-id="9ade4-200">Du kan ändra dessa manuellt i konsolen för IIS-hanteraren, om du vill.</span><span class="sxs-lookup"><span data-stu-id="9ade4-200">You can change these manually in the IIS Manager console, if desired.</span></span>

   - <span data-ttu-id="9ade4-201">Sökväg:/pswa</span><span class="sxs-lookup"><span data-stu-id="9ade4-201">Path: /pswa</span></span>
   - <span data-ttu-id="9ade4-202">ApplicationPool: pswa_pool</span><span class="sxs-lookup"><span data-stu-id="9ade4-202">ApplicationPool: pswa_pool</span></span>
   - <span data-ttu-id="9ade4-203">EnabledProtocols: http</span><span class="sxs-lookup"><span data-stu-id="9ade4-203">EnabledProtocols: http</span></span>
   - <span data-ttu-id="9ade4-204">PhysicalPath:% windir%/Web/PowerShellWebAccess/wwwroot</span><span class="sxs-lookup"><span data-stu-id="9ade4-204">PhysicalPath: %windir%/Web/PowerShellWebAccess/wwwroot</span></span>

   <span data-ttu-id="9ade4-205">**Exempel**:`Install-PswaWebApplication -webApplicationName myWebApp -useTestCertificate`</span><span class="sxs-lookup"><span data-stu-id="9ade4-205">**Example**: `Install-PswaWebApplication -webApplicationName myWebApp -useTestCertificate`</span></span>

   <span data-ttu-id="9ade4-206">I det här exemplet är `https://<server_name>/myWebApp`den resulterande webbplatsen för Windows PowerShell-webbåtkomst.</span><span class="sxs-lookup"><span data-stu-id="9ade4-206">In this example, the resulting website for Windows PowerShell Web Access is `https://<server_name>/myWebApp`.</span></span>

   > [!NOTE]
   > <span data-ttu-id="9ade4-207">Du kan inte logga in förrän användare har beviljats åtkomst till webbplatsen genom att lägga till auktoriseringsregler.</span><span class="sxs-lookup"><span data-stu-id="9ade4-207">You cannot sign in until users have been granted access to the website by adding authorization rules.</span></span> <span data-ttu-id="9ade4-208">Mer information finns i [Konfigurera en begränsad auktoriseringsregel](#configure-a-restrictive-authorization-rule) och [auktoriseringsregler och säkerhetsfunktioner i Windows PowerShell-webbåtkomst](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="9ade4-208">For more information, see [configure a restrictive authorization rule](#configure-a-restrictive-authorization-rule) and [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

#### <a name="to-configure-the-windows-powershell-web-access-gateway-with-a-genuine-certificate-by-using-install-pswawebapplication-and-iis-manager"></a><span data-ttu-id="9ade4-209">Så här konfigurerar du gatewayen för Windows PowerShell-webbåtkomst med ett äkta certifikat med hjälp av install-PswaWebApplication och IIS Manager</span><span class="sxs-lookup"><span data-stu-id="9ade4-209">To configure the Windows PowerShell Web Access gateway with a genuine certificate by using Install-PswaWebApplication and IIS Manager</span></span>

1. <span data-ttu-id="9ade4-210">Gör något av följande för att öppna en Windows PowerShell-session.</span><span class="sxs-lookup"><span data-stu-id="9ade4-210">Do one of the following to open a Windows PowerShell session.</span></span>

   - <span data-ttu-id="9ade4-211">På Windows-skrivbordet högerklickar du på **Windows PowerShell** i aktivitets fältet.</span><span class="sxs-lookup"><span data-stu-id="9ade4-211">On the Windows desktop, right-click **Windows PowerShell** on the taskbar.</span></span>
   - <span data-ttu-id="9ade4-212">På Windows **Start** -skärmen klickar du på **Windows PowerShell**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-212">On the Windows **Start** screen, click **Windows PowerShell**.</span></span>

2. <span data-ttu-id="9ade4-213">Skriv följande kommando och tryck sedan på **Retur**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-213">Type the following, and then press **Enter**.</span></span>

   `Install-PswaWebApplication`

   <span data-ttu-id="9ade4-214">Följande Gateway-inställningar konfigureras genom att köra cmdleten.</span><span class="sxs-lookup"><span data-stu-id="9ade4-214">The following gateway settings are configured by running the cmdlet.</span></span> <span data-ttu-id="9ade4-215">Du kan ändra dessa manuellt i konsolen för IIS-hanteraren, om du vill.</span><span class="sxs-lookup"><span data-stu-id="9ade4-215">You can change these manually in the IIS Manager console, if desired.</span></span> <span data-ttu-id="9ade4-216">Du kan också ange värden för `WebsiteName` `WebApplicationName` `Install-PswaWebApplication` cmdlet-parametrarna och.</span><span class="sxs-lookup"><span data-stu-id="9ade4-216">You can also specify values for the `WebsiteName` and `WebApplicationName` parameters of the `Install-PswaWebApplication` cmdlet.</span></span>

   - <span data-ttu-id="9ade4-217">Sökväg:/pswa</span><span class="sxs-lookup"><span data-stu-id="9ade4-217">Path: /pswa</span></span>
   - <span data-ttu-id="9ade4-218">ApplicationPool: pswa_pool</span><span class="sxs-lookup"><span data-stu-id="9ade4-218">ApplicationPool: pswa_pool</span></span>
   - <span data-ttu-id="9ade4-219">EnabledProtocols: http</span><span class="sxs-lookup"><span data-stu-id="9ade4-219">EnabledProtocols: http</span></span>
   - <span data-ttu-id="9ade4-220">PhysicalPath:% windir%/Web/PowerShellWebAccess/wwwroot</span><span class="sxs-lookup"><span data-stu-id="9ade4-220">PhysicalPath: %windir%/Web/PowerShellWebAccess/wwwroot</span></span>

3. <span data-ttu-id="9ade4-221">Öppna konsolen IIS-hanteraren genom att göra något av följande.</span><span class="sxs-lookup"><span data-stu-id="9ade4-221">Open the IIS Manager console by doing one of the following.</span></span>

   - <span data-ttu-id="9ade4-222">Starta Serverhanteraren genom att klicka på Windows-skrivbordet **Serverhanteraren** i Aktivitetsfältet.</span><span class="sxs-lookup"><span data-stu-id="9ade4-222">On the Windows desktop, start Server Manager by clicking **Server Manager** in the Windows taskbar.</span></span> <span data-ttu-id="9ade4-223">I **verktyg** -menyn i Serverhanteraren klickar du på **Internet Information Services (IIS) Manager**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-223">On the **Tools** menu in Server Manager, click **Internet Information Services (IIS) Manager**.</span></span>
   - <span data-ttu-id="9ade4-224">På Windows **Start** -skärmen klickar du på **Serverhanteraren**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-224">On the Windows **Start** screen, click **Server Manager**.</span></span>

4. <span data-ttu-id="9ade4-225">I träd fönstret i IIS-hanteraren expanderar du noden för den server där Windows PowerShell-webbåtkomsten är installerad tills mappen **platser** visas.</span><span class="sxs-lookup"><span data-stu-id="9ade4-225">In the IIS Manager tree pane, expand the node for the server on which Windows PowerShell Web Access is installed until the **Sites** folder is visible.</span></span> <span data-ttu-id="9ade4-226">Expandera mappen **platser** .</span><span class="sxs-lookup"><span data-stu-id="9ade4-226">Expand the **Sites** folder.</span></span>

5. <span data-ttu-id="9ade4-227">Välj den webbplats där du har installerat webb programmet för Windows PowerShell-webbåtkomst.</span><span class="sxs-lookup"><span data-stu-id="9ade4-227">Select the website in which you have installed the Windows PowerShell Web Access web application.</span></span>
   <span data-ttu-id="9ade4-228">I fönstret **åtgärder** klickar du på **bindningar**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-228">In the **Actions** pane, click **Bindings**.</span></span>

6. <span data-ttu-id="9ade4-229">I dialog rutan **bindning för webbplats** klickar du på **Lägg till**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-229">In the **Site Binding** dialog box, click **Add**.</span></span>

7. <span data-ttu-id="9ade4-230">I dialog rutan **Lägg till bindning för webbplats** väljer du **https**i fältet **typ** .</span><span class="sxs-lookup"><span data-stu-id="9ade4-230">In the **Add Site Binding** dialog box, in the **Type** field, select **https**.</span></span>

8. <span data-ttu-id="9ade4-231">I fältet **SSL-certifikat** väljer du ditt signerade certifikat på den nedrullningsbara menyn.</span><span class="sxs-lookup"><span data-stu-id="9ade4-231">In the **SSL certificate** field, select your signed certificate from the drop-down menu.</span></span>
   <span data-ttu-id="9ade4-232">Klicka på **OK**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-232">Click **OK**.</span></span> <span data-ttu-id="9ade4-233">Mer information om hur du skaffar ett certifikat finns i [Konfigurera ett SSL-certifikat i IIS-hanteraren](#to-configure-an-ssl-certificate-in-iis-manager) i det här avsnittet.</span><span class="sxs-lookup"><span data-stu-id="9ade4-233">See [To configure an SSL certificate in IIS Manager](#to-configure-an-ssl-certificate-in-iis-manager) in this topic for more information about how to obtain a certificate.</span></span>

   <span data-ttu-id="9ade4-234">Webb programmet för Windows PowerShell-webbåtkomst har nu kon figurer ATS för att använda ditt signerade SSL-certifikat.</span><span class="sxs-lookup"><span data-stu-id="9ade4-234">The Windows PowerShell Web Access web application is now configured to use your signed SSL certificate.</span></span>

   <span data-ttu-id="9ade4-235">Du kan komma åt Windows PowerShell-webbåtkomsten genom att öppna `https://<server_name>/pswa` i ett webbläsarfönster.</span><span class="sxs-lookup"><span data-stu-id="9ade4-235">You can access Windows PowerShell Web Access by opening `https://<server_name>/pswa` in a browser window.</span></span>

   > [!NOTE]
   > <span data-ttu-id="9ade4-236">Du kan inte logga in förrän användare har beviljats åtkomst till webbplatsen genom att lägga till auktoriseringsregler.</span><span class="sxs-lookup"><span data-stu-id="9ade4-236">You cannot sign in until users have been granted access to the website by adding authorization rules.</span></span> <span data-ttu-id="9ade4-237">Mer information finns i [Konfigurera en restriktiv auktoriseringsregel](#configure-a-restrictive-authorization-rule), i det här avsnittet och [auktoriseringsregler och säkerhetsfunktioner i Windows PowerShell-webbåtkomst](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="9ade4-237">For more information, see [Configure a restrictive authorization rule](#configure-a-restrictive-authorization-rule), in this topic, and [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

### <a name="configure-a-restrictive-authorization-rule"></a><span data-ttu-id="9ade4-238">Konfigurera en begränsnings regel för auktorisering</span><span class="sxs-lookup"><span data-stu-id="9ade4-238">Configure a restrictive authorization rule</span></span>

<span data-ttu-id="9ade4-239">När Windows PowerShell-webbåtkomsten har installerats och gatewayen har kon figurer ATS kan användarna öppna inloggnings sidan i en webbläsare, men de kan inte logga in förrän Windows PowerShell-administratören ger användare åtkomst uttryckligen.</span><span class="sxs-lookup"><span data-stu-id="9ade4-239">After Windows PowerShell Web Access is installed and the gateway is configured, users can open the sign-in page in a browser, but they cannot sign in until the Windows PowerShell Web Access administrator grants users access explicitly.</span></span> <span data-ttu-id="9ade4-240">Åtkomst kontrollen för Windows PowerShell-webbåtkomsten hanteras med hjälp av de Windows PowerShell-cmdlets som beskrivs i följande tabell.</span><span class="sxs-lookup"><span data-stu-id="9ade4-240">Windows PowerShell Web Access access control is managed by using the set of Windows PowerShell cmdlets described in the following table.</span></span> <span data-ttu-id="9ade4-241">Det finns inget jämförbart användar gränssnitt för att lägga till eller hantera auktoriseringsregler.</span><span class="sxs-lookup"><span data-stu-id="9ade4-241">There is no comparable GUI for adding or managing authorization rules.</span></span> <span data-ttu-id="9ade4-242">Mer detaljerad information om Windows PowerShell-cmdlets finns i avsnittet om cmdlet-referenser, [Windows PowerShell-webbåtkomst-cmdletar](/powershell/module/powershellwebaccess/?view=winserver2012r2-ps).</span><span class="sxs-lookup"><span data-stu-id="9ade4-242">For more detailed information about Windows PowerShell Web Access cmdlets, see the cmdlet reference topics, [Windows PowerShell Web Access Cmdlets](/powershell/module/powershellwebaccess/?view=winserver2012r2-ps).</span></span>

<span data-ttu-id="9ade4-243">Mer information om Windows PowerShell-auktoriseringsregler och säkerhet finns i [auktoriseringsregler och säkerhetsfunktioner i Windows PowerShell-webbåtkomst](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="9ade4-243">For more detail about Windows PowerShell Web Access authorization rules and security, see [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

#### <a name="to-add-a-restrictive-authorization-rule"></a><span data-ttu-id="9ade4-244">Lägga till en restriktiv auktoriseringsregel</span><span class="sxs-lookup"><span data-stu-id="9ade4-244">To add a restrictive authorization rule</span></span>

1. <span data-ttu-id="9ade4-245">Gör något av följande för att öppna en Windows PowerShell-session med utökade användarrättigheter.</span><span class="sxs-lookup"><span data-stu-id="9ade4-245">Do one of the following to open a Windows PowerShell session with elevated user rights.</span></span>

   - <span data-ttu-id="9ade4-246">På Windows-skrivbordet högerklickar du på **Windows PowerShell** i aktivitetsfältet och klickar sedan på **Kör som administratör**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-246">On the Windows desktop, right-click **Windows PowerShell** on the taskbar, and then click **Run as Administrator**.</span></span>
   - <span data-ttu-id="9ade4-247">På **Start** skärmen i Windows högerklickar du på **Windows PowerShell**och klickar sedan på **Kör som administratör**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-247">On the Windows **Start** screen, right-click **Windows PowerShell**, and then click **Run as Administrator**.</span></span>

2. <span data-ttu-id="9ade4-248">Valfritt steg för att begränsa användar åtkomst med hjälp av sessionsbaserade: kontrol lera att de sessionsinställningar som du vill använda i dina regler redan finns.</span><span class="sxs-lookup"><span data-stu-id="9ade4-248">Optional step for restricting user access by using session configurations: Verify that session configurations that you want to use in your rules already exist.</span></span> <span data-ttu-id="9ade4-249">Om de inte har skapats än använder du instruktioner för att skapa sessionsinställningar i [about_Session_Configuration_Files](/powershell/module/microsoft.powershell.core/about/about_session_configurations).</span><span class="sxs-lookup"><span data-stu-id="9ade4-249">If they have not yet been created, use instructions for creating session configurations in [about_Session_Configuration_Files](/powershell/module/microsoft.powershell.core/about/about_session_configurations).</span></span>

3. <span data-ttu-id="9ade4-250">Skriv följande kommando och tryck sedan på **Retur**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-250">Type the following, and then press **Enter**.</span></span>

   `Add-PswaAuthorizationRule -UserName <domain\user | computer\user> -ComputerName <computer_name> -ConfigurationName <session_configuration_name>`

   <span data-ttu-id="9ade4-251">Med den här auktoriseringsregeln kan en speciell användare få åtkomst till en dator i nätverket som de normalt har åtkomst till, med åtkomst till en speciell sessionsinformation som är begränsad till användarens typiska skript-och cmdlet-behov.</span><span class="sxs-lookup"><span data-stu-id="9ade4-251">This authorization rule allows a specific user access to one computer on the network to which they typically have access, with access to a specific session configuration that is scoped to the user's typical scripting and cmdlet needs.</span></span>

   <span data-ttu-id="9ade4-252">I följande exempel beviljas en användare som heter `JSmith` i `Contoso` domänen åtkomst för att hantera datorn `Contoso_214`och använda en sessionsnyckel med namnet. `NewAdminsOnly`</span><span class="sxs-lookup"><span data-stu-id="9ade4-252">In the following example, a user named `JSmith` in the `Contoso` domain is granted access to manage the computer `Contoso_214`, and use a session configuration named `NewAdminsOnly`.</span></span>

   `Add-PswaAuthorizationRule -UserName Contoso\JSmith -ComputerName Contoso_214 -ConfigurationName NewAdminsOnly`

4. <span data-ttu-id="9ade4-253">Kontrol lera att regeln har skapats genom att `Get-PswaAuthorizationRule` köra antingen cmdleten eller`Test-PswaAuthorizationRule -UserName <domain\user> -ComputerName <computer-name>`</span><span class="sxs-lookup"><span data-stu-id="9ade4-253">Verify that the rule has been created by running either the `Get-PswaAuthorizationRule` cmdlet, or `Test-PswaAuthorizationRule -UserName <domain\user> -ComputerName <computer-name>`</span></span>

   <span data-ttu-id="9ade4-254">Till exempel `Test-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214`.</span><span class="sxs-lookup"><span data-stu-id="9ade4-254">For example, `Test-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214`.</span></span>

<span data-ttu-id="9ade4-255">När du har konfigurerat en auktoriseringsregel är du redo för behöriga användare att logga in i den webbaserade konsolen och börja använda Windows PowerShell-webbåtkomst.</span><span class="sxs-lookup"><span data-stu-id="9ade4-255">After you have configured an authorization rule, you are ready for authorized users to sign in to the web-based console and begin using Windows PowerShell Web Access.</span></span>

## <a name="custom-deployment"></a><span data-ttu-id="9ade4-256">Anpassad distribution</span><span class="sxs-lookup"><span data-stu-id="9ade4-256">Custom deployment</span></span>

<span data-ttu-id="9ade4-257">Du kan installera gatewayen för Windows PowerShell-webbåtkomsten på en server som kör Windows Server 2012 R2 eller Windows Server 2012 med hjälp av guiden Lägg till roller och funktioner i Serverhanteraren.</span><span class="sxs-lookup"><span data-stu-id="9ade4-257">You can install the Windows PowerShell Web Access gateway on a server that is running Windows Server 2012 R2 or Windows Server 2012 by using the Add Roles and Features Wizard in Server Manager.</span></span>
<span data-ttu-id="9ade4-258">När du har installerat Windows PowerShell-webbåtkomst kan du anpassa konfigurationen av gatewayen i IIS-hanteraren.</span><span class="sxs-lookup"><span data-stu-id="9ade4-258">After Windows PowerShell Web Access is installed, you can customize the configuration of the gateway in IIS Manager.</span></span>

### <a name="install-windows-powershell-web-access-using-the-add-roles-and-features-wizard"></a><span data-ttu-id="9ade4-259">Installera Windows PowerShell-webbåtkomst med hjälp av guiden Lägg till roller och funktioner</span><span class="sxs-lookup"><span data-stu-id="9ade4-259">Install Windows PowerShell Web Access using the Add Roles and Features Wizard</span></span>

1. <span data-ttu-id="9ade4-260">Gå vidare till nästa steg om Server Manager redan är öppen.</span><span class="sxs-lookup"><span data-stu-id="9ade4-260">If Server Manager is already open, go on to the next step.</span></span> <span data-ttu-id="9ade4-261">Öppna genom att göra något av följande om Server Manager inte är redan öppen.</span><span class="sxs-lookup"><span data-stu-id="9ade4-261">If Server Manager is not already open, open it by doing one of the following.</span></span>

   - <span data-ttu-id="9ade4-262">Starta Serverhanteraren genom att klicka på Windows-skrivbordet **Serverhanteraren** i Aktivitetsfältet.</span><span class="sxs-lookup"><span data-stu-id="9ade4-262">On the Windows desktop, start Server Manager by clicking **Server Manager** in the Windows taskbar.</span></span>
   - <span data-ttu-id="9ade4-263">På Windows **Start** -skärmen klickar du på **Serverhanteraren**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-263">On the Windows **Start** screen, click **Server Manager**.</span></span>

2. <span data-ttu-id="9ade4-264">I menyn **Hantera** klickar du på **Lägg till roller och funktioner**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-264">On the **Manage** menu, click **Add Roles and Features**.</span></span>

3. <span data-ttu-id="9ade4-265">Klicka på **Rollbaserad eller funktionsbaserad installation** på sidan **Välj installationstyp**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-265">On the **Select installation type** page, select **Role-based or feature-based installation**.</span></span>
   <span data-ttu-id="9ade4-266">Klicka på **Nästa**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-266">Click **Next**.</span></span>

4. <span data-ttu-id="9ade4-267">På sidan **Välj mål server** väljer du en server från serverpoolen eller så väljer du en offline-VHD.</span><span class="sxs-lookup"><span data-stu-id="9ade4-267">On the **Select destination server** page, select a server from the server pool, or select an offline VHD.</span></span> <span data-ttu-id="9ade4-268">Du kan välja en offline-VHD som målserver genom att först välja på vilken server VHD:n ska monteras och sedan välja VHD-filen.</span><span class="sxs-lookup"><span data-stu-id="9ade4-268">To select an offline VHD as your destination server, first select the server on which to mount the VHD, and then select the VHD file.</span></span> <span data-ttu-id="9ade4-269">Information om hur du lägger till servrar i serverpoolen finns i hjälpen för Serverhanteraren.</span><span class="sxs-lookup"><span data-stu-id="9ade4-269">For information about how to add servers to your server pool, see the Server Manager Help.</span></span> <span data-ttu-id="9ade4-270">När du har valt mål servern klickar du på **Nästa**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-270">After you have selected the destination server, click **Next**.</span></span>

5. <span data-ttu-id="9ade4-271">På sidan **Välj funktioner** i guiden expanderar du **Windows PowerShell**och väljer sedan **Windows PowerShell-webbåtkomst**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-271">On the **Select features** page of the wizard, expand **Windows PowerShell**, and then select **Windows PowerShell Web Access**.</span></span>

6. <span data-ttu-id="9ade4-272">Observera att du uppmanas att lägga till nödvändiga funktioner, till exempel .NET Framework 4,5 och roll tjänster för webb server (IIS).</span><span class="sxs-lookup"><span data-stu-id="9ade4-272">Note that you are prompted to add required features, such as .NET Framework 4.5, and role services of Web Server (IIS).</span></span> <span data-ttu-id="9ade4-273">Lägg till nödvändiga funktioner och fortsätt.</span><span class="sxs-lookup"><span data-stu-id="9ade4-273">Add required features and continue.</span></span>

   > [!NOTE]
   > <span data-ttu-id="9ade4-274">När du installerar Windows PowerShell-webbåtkomst med hjälp av guiden Lägg till roller och funktioner installeras även webb server (IIS), inklusive snapin-modulen IIS-hanteraren.</span><span class="sxs-lookup"><span data-stu-id="9ade4-274">Installing Windows PowerShell Web Access by using the Add Roles and Features Wizard also installs Web Server (IIS), including the IIS Manager snap-in.</span></span> <span data-ttu-id="9ade4-275">Snapin-modulen och andra hanterings verktyg för IIS installeras som standard om du använder guiden Lägg till roller och funktioner.</span><span class="sxs-lookup"><span data-stu-id="9ade4-275">The snap-in and other IIS management tools are installed by default if you use Add Roles and Features Wizard.</span></span> <span data-ttu-id="9ade4-276">Om du installerar Windows PowerShell-webbåtkomst med hjälp av Windows PowerShell-cmdlets som beskrivs i följande procedur, läggs inte hanterings verktyg till som standard.</span><span class="sxs-lookup"><span data-stu-id="9ade4-276">If you install Windows PowerShell Web Access by using Windows PowerShell cmdlets as described in the following procedure, management tools are not added by default.</span></span>

7. <span data-ttu-id="9ade4-277">På sidan **Bekräfta installations inställningarna** , om Feature-filerna för Windows PowerShell-webbåtkomsten inte är lagrade på mål servern som du valde i steg 4, klickar du på **Ange en alternativ käll Sök väg**och anger sökvägen till-installationsfilerna.</span><span class="sxs-lookup"><span data-stu-id="9ade4-277">On the **Confirm installation selections** page, if the feature files for Windows PowerShell Web Access are not stored on the destination server that you selected in step 4, click **Specify an alternate source path**, and provide the path to the feature files.</span></span> <span data-ttu-id="9ade4-278">Annars klickar du på **Installera**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-278">Otherwise, click **Install**.</span></span>

8. <span data-ttu-id="9ade4-279">När du har klickat på **Installera**visar sidan **installations förlopp** installations förlopp, resultat och meddelanden, till exempel varningar, fel eller konfigurations steg efter installation som krävs för Windows PowerShell-webbåtkomst.</span><span class="sxs-lookup"><span data-stu-id="9ade4-279">After you click **Install**, the **Installation progress** page displays installation progress, results, and messages such as warnings, failures, or post-installation configuration steps that are required for Windows PowerShell Web Access.</span></span> <span data-ttu-id="9ade4-280">När Windows PowerShell-webbåtkomsten har installerats uppmanas du att gå igenom Readme-filen, som innehåller grundläggande, nödvändiga installations anvisningar för gatewayen.</span><span class="sxs-lookup"><span data-stu-id="9ade4-280">After Windows PowerShell Web Access is installed, you are prompted to review the readme file, which contains basic, required setup instructions for the gateway.</span></span> <span data-ttu-id="9ade4-281">Dessa instruktioner ingår också i det här avsnittet.</span><span class="sxs-lookup"><span data-stu-id="9ade4-281">These instructions are also included in this topic.</span></span> <span data-ttu-id="9ade4-282">Sökvägen till Readme-filen är `C:\Windows\Web\PowerShellWebAccess\wwwroot\README.txt`.</span><span class="sxs-lookup"><span data-stu-id="9ade4-282">The path to the readme file is `C:\Windows\Web\PowerShellWebAccess\wwwroot\README.txt`.</span></span>

### <a name="configure-the-gateway"></a><span data-ttu-id="9ade4-283">Konfigurera en gateway</span><span class="sxs-lookup"><span data-stu-id="9ade4-283">Configure the gateway</span></span>

<span data-ttu-id="9ade4-284">Anvisningarna i det här avsnittet är för att installera Windows PowerShell Web Access-webbprogrammet i en under katalog och inte i rot katalogen på din webbplats.</span><span class="sxs-lookup"><span data-stu-id="9ade4-284">Instructions in this section are for installing the Windows PowerShell Web Access web application in a subdirectory and not in the root directory of your website.</span></span> <span data-ttu-id="9ade4-285">Den här proceduren är den GUI-baserade motsvarigheten till de åtgärder som `Install-PswaWebApplication` utförs av cmdleten.</span><span class="sxs-lookup"><span data-stu-id="9ade4-285">This procedure is the GUI-based equivalent of the actions performed by the `Install-PswaWebApplication` cmdlet.</span></span> <span data-ttu-id="9ade4-286">Det här avsnittet innehåller också anvisningar för hur du använder IIS-hanteraren för att konfigurera Windows PowerShell-webbåtkomst-gatewayen som en rot webbplats.</span><span class="sxs-lookup"><span data-stu-id="9ade4-286">This section also includes instructions for how to use IIS Manager to configure the Windows PowerShell Web Access gateway as a root website.</span></span>

#### <a name="to-use-iis-manager-to-configure-the-gateway-in-an-existing-website"></a><span data-ttu-id="9ade4-287">Så här använder du IIS-hanteraren för att konfigurera gatewayen på en befintlig webbplats</span><span class="sxs-lookup"><span data-stu-id="9ade4-287">To use IIS Manager to configure the gateway in an existing website</span></span>

1. <span data-ttu-id="9ade4-288">Öppna konsolen IIS-hanteraren genom att göra något av följande.</span><span class="sxs-lookup"><span data-stu-id="9ade4-288">Open the IIS Manager console by doing one of the following.</span></span>

   - <span data-ttu-id="9ade4-289">Starta Serverhanteraren genom att klicka på Windows-skrivbordet **Serverhanteraren** i Aktivitetsfältet.</span><span class="sxs-lookup"><span data-stu-id="9ade4-289">On the Windows desktop, start Server Manager by clicking **Server Manager** in the Windows taskbar.</span></span> <span data-ttu-id="9ade4-290">I **verktyg** -menyn i Serverhanteraren klickar du på **Internet Information Services (IIS) Manager**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-290">On the **Tools** menu in Server Manager, click **Internet Information Services (IIS) Manager**.</span></span>
   - <span data-ttu-id="9ade4-291">På **Start** skärmen i Windows skriver du valfri del av namnet **Internet Information Services (IIS) Manager**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-291">On the Windows **Start** screen, type any part of the name **Internet Information Services (IIS) Manager**.</span></span> <span data-ttu-id="9ade4-292">Klicka på genvägen när den visas i **appens** resultat.</span><span class="sxs-lookup"><span data-stu-id="9ade4-292">Click the shortcut when it is displayed in the **Apps** results.</span></span>

2. <span data-ttu-id="9ade4-293">Skapa en ny programpool för Windows PowerShell-webbåtkomst.</span><span class="sxs-lookup"><span data-stu-id="9ade4-293">Create a new application pool for Windows PowerShell Web Access.</span></span> <span data-ttu-id="9ade4-294">Expandera noden för Gateway-servern i träd fönstret i IIS-hanteraren, Välj **programpooler**och klicka på **Lägg till programpool** i **Åtgärds** fönstret.</span><span class="sxs-lookup"><span data-stu-id="9ade4-294">Expand the node of the gateway server in the IIS Manager tree pane, select **Application Pools**, and click **Add Application Pool** in the **Actions** pane.</span></span>

3. <span data-ttu-id="9ade4-295">Lägg till en ny programpool med namnet **pswa_pool**eller ange ett annat namn.</span><span class="sxs-lookup"><span data-stu-id="9ade4-295">Add a new application pool with the name **pswa_pool**, or provide another name.</span></span> <span data-ttu-id="9ade4-296">Klicka på **OK**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-296">Click **OK**.</span></span>

4. <span data-ttu-id="9ade4-297">I träd fönstret i IIS-hanteraren expanderar du noden för den server där Windows PowerShell-webbåtkomsten är installerad tills mappen **platser** visas.</span><span class="sxs-lookup"><span data-stu-id="9ade4-297">In the IIS Manager tree pane, expand the node for the server on which Windows PowerShell Web Access is installed until the **Sites** folder is visible.</span></span> <span data-ttu-id="9ade4-298">Välj mappen **platser** .</span><span class="sxs-lookup"><span data-stu-id="9ade4-298">Select the **Sites** folder.</span></span>

5. <span data-ttu-id="9ade4-299">Högerklicka på webbplatsen (till exempel **standard webbplats**) till vilken du vill lägga till webbplatsen för Windows PowerShell-webbåtkomsten och klicka sedan på **Lägg till program**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-299">Right-click the website (for example, **Default Web Site**) to which you would like to add the Windows PowerShell Web Access website, and then click **Add Application**.</span></span>

6. <span data-ttu-id="9ade4-300">I fältet **alias** skriver du pswa eller anger ett annat alias.</span><span class="sxs-lookup"><span data-stu-id="9ade4-300">In the **Alias** field, type pswa, or provide another alias.</span></span> <span data-ttu-id="9ade4-301">Aliaset blir namnet på den virtuella katalogen.</span><span class="sxs-lookup"><span data-stu-id="9ade4-301">The alias becomes the virtual directory name.</span></span> <span data-ttu-id="9ade4-302">Till exempel representerar **pswa** i följande URL det alias som anges i det här steget: `https://<server-name>/pswa`.</span><span class="sxs-lookup"><span data-stu-id="9ade4-302">For example, **pswa** in the following URL represents the alias specified in this step: `https://<server-name>/pswa`.</span></span>

7. <span data-ttu-id="9ade4-303">I fältet **programpool** väljer du den programpool som du skapade i steg 3.</span><span class="sxs-lookup"><span data-stu-id="9ade4-303">In the **Application pool** field, select the application pool that you created in step 3.</span></span>

8. <span data-ttu-id="9ade4-304">I fältet **fysisk sökväg** bläddrar du till platsen för programmet.</span><span class="sxs-lookup"><span data-stu-id="9ade4-304">In the **Physical path** field, browse for the location of the application.</span></span> <span data-ttu-id="9ade4-305">Du kan använda standard platsen, `$env:windir/Web/PowerShellWebAccess/wwwroot`.</span><span class="sxs-lookup"><span data-stu-id="9ade4-305">You can use the default location, `$env:windir/Web/PowerShellWebAccess/wwwroot`.</span></span> <span data-ttu-id="9ade4-306">Klicka på **OK**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-306">Click **OK**.</span></span>

9. <span data-ttu-id="9ade4-307">Följ stegen i proceduren [för att konfigurera ett SSL-certifikat i IIS-hanteraren](#to-configure-an-ssl-certificate-in-iis-manager) i det här avsnittet.</span><span class="sxs-lookup"><span data-stu-id="9ade4-307">Follow the steps in the procedure [To configure an SSL certificate in IIS Manager](#to-configure-an-ssl-certificate-in-iis-manager) in this topic.</span></span>

10. <span data-ttu-id="9ade4-308">Valfritt säkerhets steg:</span><span class="sxs-lookup"><span data-stu-id="9ade4-308">Optional security step:</span></span>

    <span data-ttu-id="9ade4-309">När du har valt webbplatsen i träd fönstret dubbelklickar du på **SSL-inställningar** i innehålls rutan.</span><span class="sxs-lookup"><span data-stu-id="9ade4-309">With the website selected in the tree pane, double-click **SSL Settings** in the content pane.</span></span>
    <span data-ttu-id="9ade4-310">Välj **KRÄV SSL**och klicka sedan på **Verkställ**i rutan **åtgärder** .</span><span class="sxs-lookup"><span data-stu-id="9ade4-310">Select **Require SSL**, and then in the **Actions** pane, click **Apply**.</span></span> <span data-ttu-id="9ade4-311">I rutan **SSL-inställningar** kan du även kräva att användare som ansluter till webbplatsen för Windows PowerShell-webbåtkomsten har klient certifikat.</span><span class="sxs-lookup"><span data-stu-id="9ade4-311">Optionally, in the **SSL Settings** pane, you can require that users connecting to the Windows PowerShell Web Access website have client certificates.</span></span> <span data-ttu-id="9ade4-312">Klient certifikat hjälper till att verifiera identiteten för en klient enhets användare.</span><span class="sxs-lookup"><span data-stu-id="9ade4-312">Client certificates help to verify the identity of a client device user.</span></span> <span data-ttu-id="9ade4-313">Mer information om hur krav på klient certifikat kan öka säkerheten för Windows PowerShell-webbåtkomsten finns i [auktoriseringsregler och säkerhetsfunktioner i Windows PowerShell-webbåtkomst](authorization-rules-and-security-features-of-windows-powershell-web-access.md) i den här hand boken.</span><span class="sxs-lookup"><span data-stu-id="9ade4-313">For more information about how requiring client certificates can increase the security of Windows PowerShell Web Access, see [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md) in this guide.</span></span>

11. <span data-ttu-id="9ade4-314">Öppna en webbläsarsession på en klient enhet.</span><span class="sxs-lookup"><span data-stu-id="9ade4-314">Open a browser session on a client device.</span></span> <span data-ttu-id="9ade4-315">Mer information om vilka webbläsare och enheter som stöds finns i [stöd för webbläsare och klient enheter](#browser-and-client-device-support) i det här avsnittet.</span><span class="sxs-lookup"><span data-stu-id="9ade4-315">For more information about supported browsers and devices, see [Browser and client device support](#browser-and-client-device-support) in this topic.</span></span>

12. <span data-ttu-id="9ade4-316">Öppna den nya webbplatsen för Windows PowerShell-webbåtkomst, **https://\<*Gateway-Server-Name*\>/pswa**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-316">Open the new Windows PowerShell Web Access website, **https://\<*gateway-server-name*\>/pswa**.</span></span>

    <span data-ttu-id="9ade4-317">Webbläsaren ska Visa inloggnings sidan för Windows PowerShell Web Access-konsolen.</span><span class="sxs-lookup"><span data-stu-id="9ade4-317">The browser should display the Windows PowerShell Web Access console sign-in page.</span></span>

    > [!NOTE]
    > <span data-ttu-id="9ade4-318">Du kan inte logga in förrän användare har beviljats åtkomst till webbplatsen genom att lägga till auktoriseringsregler.</span><span class="sxs-lookup"><span data-stu-id="9ade4-318">You cannot sign in until users have been granted access to the website by adding authorization rules.</span></span> <span data-ttu-id="9ade4-319">Mer information finns i [Konfigurera en restriktiv auktoriseringsregel](#configure-a-restrictive-authorization-rule), i det här avsnittet och [auktoriseringsregler och säkerhetsfunktioner i Windows PowerShell-webbåtkomst](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="9ade4-319">For more information, see [Configure a restrictive authorization rule](#configure-a-restrictive-authorization-rule), in this topic, and [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

13. <span data-ttu-id="9ade4-320">I en Windows PowerShell-session som har öppnats med utökade användar rättigheter (kör som administratör), kör du följande skript, där *application_pool_name* representerar namnet på den programpool som du skapade i steg 3 för att ge programpoolen åtkomst rättigheter till verifierings filen.</span><span class="sxs-lookup"><span data-stu-id="9ade4-320">In a Windows PowerShell session that has been opened with elevated user rights (Run as Administrator), run the following script, in which *application_pool_name* represents the name of the application pool that you created in step 3, to give the application pool access rights to the authorization file.</span></span>

    ```powershell
    $applicationPoolName = "<application_pool_name>"
    $authorizationFile = "C:\windows\web\powershellwebaccess\data\AuthorizationRules.xml"
    c:\windows\system32\icacls.exe $authorizationFile /grant ('"' + "IIS AppPool\$applicationPoolName" + '":R') > $null
    ```

    <span data-ttu-id="9ade4-321">Kör följande kommando om du vill visa befintliga behörigheter för verifierings filen:</span><span class="sxs-lookup"><span data-stu-id="9ade4-321">To view existing access rights on the authorization file, run the following command:</span></span>

    ```powershell
    c:\windows\system32\icacls.exe $authorizationFile
    ```

#### <a name="to-use-iis-manager-to-configure-the-gateway-as-a-root-website-with-a-test-certificate"></a><span data-ttu-id="9ade4-322">Använda IIS-hanteraren för att konfigurera gatewayen som en rot webbplats med ett test certifikat</span><span class="sxs-lookup"><span data-stu-id="9ade4-322">To use IIS Manager to configure the gateway as a root website with a test certificate</span></span>

1. <span data-ttu-id="9ade4-323">Öppna konsolen IIS-hanteraren genom att göra något av följande.</span><span class="sxs-lookup"><span data-stu-id="9ade4-323">Open the IIS Manager console by doing one of the following.</span></span>

   - <span data-ttu-id="9ade4-324">Starta Serverhanteraren genom att klicka på Windows-skrivbordet **Serverhanteraren** i Aktivitetsfältet.</span><span class="sxs-lookup"><span data-stu-id="9ade4-324">On the Windows desktop, start Server Manager by clicking **Server Manager** in the Windows taskbar.</span></span> <span data-ttu-id="9ade4-325">I **verktyg** -menyn i Serverhanteraren klickar du på **Internet Information Services (IIS) Manager**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-325">On the **Tools** menu in Server Manager, click **Internet Information Services (IIS) Manager**.</span></span>
   - <span data-ttu-id="9ade4-326">På **Start** skärmen i Windows skriver du valfri del av namnet **Internet Information Services (IIS) Manager**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-326">On the Windows **Start** screen, type any part of the name **Internet Information Services (IIS) Manager**.</span></span> <span data-ttu-id="9ade4-327">Klicka på genvägen när den visas i **appens** resultat.</span><span class="sxs-lookup"><span data-stu-id="9ade4-327">Click the shortcut when it is displayed in the **Apps** results.</span></span>

1. <span data-ttu-id="9ade4-328">I träd fönstret i IIS-hanteraren expanderar du noden för den server där Windows PowerShell-webbåtkomsten är installerad tills mappen **platser** visas.</span><span class="sxs-lookup"><span data-stu-id="9ade4-328">In the IIS Manager tree pane, expand the node for the server on which Windows PowerShell Web Access is installed until the **Sites** folder is visible.</span></span> <span data-ttu-id="9ade4-329">Välj mappen **platser** .</span><span class="sxs-lookup"><span data-stu-id="9ade4-329">Select the **Sites** folder.</span></span>

1. <span data-ttu-id="9ade4-330">I rutan **åtgärder** klickar du på **Lägg till webbplats**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-330">In the **Actions** pane, click **Add Website**.</span></span>

1. <span data-ttu-id="9ade4-331">Ange ett namn för webbplatsen, till exempel **Windows PowerShell-webbåtkomst**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-331">Type a name for the website, such as **Windows PowerShell Web Access**.</span></span>

1. <span data-ttu-id="9ade4-332">En programpool skapas automatiskt för den nya webbplatsen.</span><span class="sxs-lookup"><span data-stu-id="9ade4-332">An application pool is automatically created for the new website.</span></span> <span data-ttu-id="9ade4-333">Om du vill använda en annan programpool klickar du på **Välj** för att välja en programpool som ska associeras med den nya webbplatsen.</span><span class="sxs-lookup"><span data-stu-id="9ade4-333">To use a different application pool, click **Select** to select an application pool to associate with the new website.</span></span> <span data-ttu-id="9ade4-334">Välj den alternativa programpoolen i dialog rutan **Välj programpool** och klicka sedan på **OK**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-334">Select the alternate application pool in the **Select Application Pool** dialog box, and then click **OK**.</span></span>

1. <span data-ttu-id="9ade4-335">I text rutan **fysisk sökväg** navigerar du till% windir%/Web/PowerShellWebAccess/wwwroot.</span><span class="sxs-lookup"><span data-stu-id="9ade4-335">In the **Physical path** text box, navigate to %windir%/Web/PowerShellWebAccess/wwwroot.</span></span>

1. <span data-ttu-id="9ade4-336">I fältet **typ** i området **bindning** väljer du **https**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-336">In the **Type** field of the **Binding** area, select **https**.</span></span>

1. <span data-ttu-id="9ade4-337">Tilldela ett port nummer till webbplatsen som inte redan används av en annan webbplats eller ett program.</span><span class="sxs-lookup"><span data-stu-id="9ade4-337">Assign a port number to the website that is not already in use by another site or application.</span></span>
   <span data-ttu-id="9ade4-338">Om du vill hitta öppna portar kan du köra kommandot **netstat** i ett kommando tolks fönster.</span><span class="sxs-lookup"><span data-stu-id="9ade4-338">To locate open ports, you can run the **netstat** command in a Command Prompt window.</span></span> <span data-ttu-id="9ade4-339">Standard port numret är 443.</span><span class="sxs-lookup"><span data-stu-id="9ade4-339">The default port number is 443.</span></span>

   <span data-ttu-id="9ade4-340">Ändra standard porten om en annan webbplats redan använder 443, eller om du har andra säkerhets skäl att ändra port numret.</span><span class="sxs-lookup"><span data-stu-id="9ade4-340">Change the default port if another website is already using 443, or if you have other security reasons for changing the port number.</span></span> <span data-ttu-id="9ade4-341">Om en annan webbplats som körs på din gateway-server använder den valda porten visas en varning när du klickar på **OK** i dialog rutan **Lägg till webbplats** .</span><span class="sxs-lookup"><span data-stu-id="9ade4-341">If another website that is running on your gateway server is using your selected port, a warning is displayed when you click **OK** in the **Add Website** dialog box.</span></span> <span data-ttu-id="9ade4-342">Du måste använda en oanvänd port för att köra Windows PowerShell-webbåtkomst.</span><span class="sxs-lookup"><span data-stu-id="9ade4-342">You must use an unused port to run Windows PowerShell Web Access.</span></span>

1. <span data-ttu-id="9ade4-343">Om det behövs för din organisation kan du, om det behövs, ange ett värdnamn som passar din organisation och dina användare, **`www.contoso.com`** till exempel.</span><span class="sxs-lookup"><span data-stu-id="9ade4-343">Optionally, if needed for your organization, specify a host name that makes sense to your organization and users, such as **`www.contoso.com`**.</span></span> <span data-ttu-id="9ade4-344">Klicka på **OK**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-344">Click **OK**.</span></span>

1. <span data-ttu-id="9ade4-345">För en säkrare produktions miljö rekommenderar vi starkt att du tillhandahåller ett giltigt certifikat som har signerats av en certifikat utfärdare.</span><span class="sxs-lookup"><span data-stu-id="9ade4-345">For a more secure production environment, we strongly recommend providing a valid certificate that has been signed by a CA.</span></span> <span data-ttu-id="9ade4-346">Du måste ange ett SSL-certifikat, eftersom användarna bara kan ansluta till Windows PowerShell-webbåtkomst via en HTTPS-webbplats.</span><span class="sxs-lookup"><span data-stu-id="9ade4-346">You must provide an SSL certificate, because users can only connect to Windows PowerShell Web Access through an HTTPS website.</span></span> <span data-ttu-id="9ade4-347">Mer information om hur du skaffar ett certifikat finns i [Konfigurera ett SSL-certifikat i IIS-hanteraren](#to-configure-an-ssl-certificate-in-iis-manager) i det här avsnittet.</span><span class="sxs-lookup"><span data-stu-id="9ade4-347">See [To configure an SSL certificate in IIS Manager](#to-configure-an-ssl-certificate-in-iis-manager) in this topic for more information about how to obtain a certificate.</span></span>

1. <span data-ttu-id="9ade4-348">Stäng dialog rutan **Lägg till webbplats** genom att klicka på **OK** .</span><span class="sxs-lookup"><span data-stu-id="9ade4-348">Click **OK** to close the **Add Website** dialog box.</span></span>

1. <span data-ttu-id="9ade4-349">I en Windows PowerShell-session som har öppnats med utökade användar rättigheter (kör som administratör), kör du följande skript, där _application_pool_name_ representerar namnet på den programpool som du skapade i steg 4, för att ge programpoolen åtkomst rättigheter till verifierings filen.</span><span class="sxs-lookup"><span data-stu-id="9ade4-349">In a Windows PowerShell session that has been opened with elevated user rights (Run as Administrator), run the following script, in which _application_pool_name_ represents the name of the application pool that you created in step 4, to give the application pool access rights to the authorization file.</span></span>

   ```powershell
   $applicationPoolName = "<application_pool_name>"
   $authorizationFile = "C:\windows\web\powershellwebaccess\data\AuthorizationRules.xml"
   c:\windows\system32\icacls.exe $authorizationFile /grant ('"' + "IIS AppPool\$applicationPoolName" + '":R') > $null
   ```

   <span data-ttu-id="9ade4-350">Kör följande kommando om du vill visa befintliga behörigheter för verifierings filen:</span><span class="sxs-lookup"><span data-stu-id="9ade4-350">To view existing access rights on the authorization file, run the following command:</span></span>

   ```powershell
   c:\windows\system32\icacls.exe $authorizationFile
   ```

1. <span data-ttu-id="9ade4-351">Med den nya webbplatsen markerad i träd fönstret i IIS-hanteraren klickar du på **Start** i fönstret **åtgärder** för att starta webbplatsen.</span><span class="sxs-lookup"><span data-stu-id="9ade4-351">With the new website selected in the IIS Manager tree pane, click **Start** in the **Actions** pane to start the website.</span></span>

1. <span data-ttu-id="9ade4-352">Öppna en webbläsarsession på en klient enhet.</span><span class="sxs-lookup"><span data-stu-id="9ade4-352">Open a browser session on a client device.</span></span> <span data-ttu-id="9ade4-353">Mer information om vilka webbläsare och enheter som stöds finns i [stöd för webbläsare och klient enheter](#browser-and-client-device-support) i det här dokumentet.</span><span class="sxs-lookup"><span data-stu-id="9ade4-353">For more information about supported browsers and devices, see [Browser and client device support](#browser-and-client-device-support) in this document.</span></span>

1. <span data-ttu-id="9ade4-354">Öppna den nya webbplatsen för Windows PowerShell-webbåtkomst.</span><span class="sxs-lookup"><span data-stu-id="9ade4-354">Open the new Windows PowerShell Web Access website.</span></span>

   <span data-ttu-id="9ade4-355">Eftersom rot webbplatsen pekar på Windows PowerShell-webbåtkomst-mappen, ska webbläsaren Visa inloggnings sidan för Windows PowerShell-webbåtkomsten när du öppnar `https://<gateway_server_name>`.</span><span class="sxs-lookup"><span data-stu-id="9ade4-355">Because the root website points to the Windows PowerShell Web Access folder, the browser should display the Windows PowerShell Web Access sign-in page when you open `https://<gateway_server_name>`.</span></span> <span data-ttu-id="9ade4-356">Du behöver inte lägga till **/pswa** i URL: en.</span><span class="sxs-lookup"><span data-stu-id="9ade4-356">You should not need to add **/pswa** to the URL.</span></span>

   > [!NOTE]
   > <span data-ttu-id="9ade4-357">Du kan inte logga in förrän användare har beviljats åtkomst till webbplatsen genom att lägga till auktoriseringsregler.</span><span class="sxs-lookup"><span data-stu-id="9ade4-357">You cannot sign in until users have been granted access to the website by adding authorization rules.</span></span> <span data-ttu-id="9ade4-358">Mer information finns i [Konfigurera en restriktiv auktoriseringsregel](#configure-a-restrictive-authorization-rule), i det här avsnittet och [auktoriseringsregler och säkerhetsfunktioner i Windows PowerShell-webbåtkomst](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="9ade4-358">For more information, see [Configure a restrictive authorization rule](#configure-a-restrictive-authorization-rule), in this topic, and [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

### <a name="configuring-a-restrictive-authorization-rule"></a><span data-ttu-id="9ade4-359">Konfigurera en begränsnings regel för auktorisering</span><span class="sxs-lookup"><span data-stu-id="9ade4-359">Configuring a restrictive authorization rule</span></span>

<span data-ttu-id="9ade4-360">När Windows PowerShell-webbåtkomsten har installerats och gatewayen har kon figurer ATS kan användarna öppna inloggnings sidan i en webbläsare, men de kan inte logga in förrän Windows PowerShell-administratören ger användare åtkomst uttryckligen.</span><span class="sxs-lookup"><span data-stu-id="9ade4-360">After Windows PowerShell Web Access is installed and the gateway is configured, users can open the sign-in page in a browser, but they cannot sign in until the Windows PowerShell Web Access administrator grants users access explicitly.</span></span> <span data-ttu-id="9ade4-361">Åtkomst kontrollen för Windows PowerShell-webbåtkomsten hanteras med hjälp av de Windows PowerShell-cmdlets som beskrivs i följande tabell.</span><span class="sxs-lookup"><span data-stu-id="9ade4-361">Windows PowerShell Web Access access control is managed by using the set of Windows PowerShell cmdlets described in the following table.</span></span> <span data-ttu-id="9ade4-362">Det finns inget jämförbart användar gränssnitt för att lägga till eller hantera auktoriseringsregler.</span><span class="sxs-lookup"><span data-stu-id="9ade4-362">There is no comparable GUI for adding or managing authorization rules.</span></span> <span data-ttu-id="9ade4-363">Mer detaljerad information om Windows PowerShell-cmdlets finns i avsnittet om cmdlet-referenser, [Windows PowerShell-webbåtkomst-cmdletar](/powershell/module/powershellwebaccess/?view=winserver2012r2-ps).</span><span class="sxs-lookup"><span data-stu-id="9ade4-363">For more detailed information about Windows PowerShell Web Access cmdlets, see the cmdlet reference topics, [Windows PowerShell Web Access Cmdlets](/powershell/module/powershellwebaccess/?view=winserver2012r2-ps).</span></span>

<span data-ttu-id="9ade4-364">Mer information om Windows PowerShell-auktoriseringsregler och säkerhet finns i [auktoriseringsregler och säkerhetsfunktioner i Windows PowerShell-webbåtkomst](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span><span class="sxs-lookup"><span data-stu-id="9ade4-364">For more detail about Windows PowerShell Web Access authorization rules and security, see [Authorization Rules and Security Features of Windows PowerShell Web Access](authorization-rules-and-security-features-of-windows-powershell-web-access.md).</span></span>

#### <a name="adding-a-restrictive-authorization-rule"></a><span data-ttu-id="9ade4-365">Lägga till en begränsnings regel för auktorisering</span><span class="sxs-lookup"><span data-stu-id="9ade4-365">Adding a restrictive authorization rule</span></span>

1. <span data-ttu-id="9ade4-366">Gör något av följande för att öppna en Windows PowerShell-session med utökade användarrättigheter.</span><span class="sxs-lookup"><span data-stu-id="9ade4-366">Do one of the following to open a Windows PowerShell session with elevated user rights.</span></span>

   - <span data-ttu-id="9ade4-367">På Windows-skrivbordet högerklickar du på **Windows PowerShell** i aktivitetsfältet och klickar sedan på **Kör som administratör**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-367">On the Windows desktop, right-click **Windows PowerShell** on the taskbar, and then click **Run as Administrator**.</span></span>
   - <span data-ttu-id="9ade4-368">På **Start** skärmen i Windows högerklickar du på **Windows PowerShell**och klickar sedan på **Kör som administratör**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-368">On the Windows **Start** screen, right-click **Windows PowerShell**, and then click **Run as Administrator**.</span></span>

1. <span data-ttu-id="9ade4-369">Valfritt steg för att begränsa användar åtkomst med hjälp av sessionsbaserade:</span><span class="sxs-lookup"><span data-stu-id="9ade4-369">Optional step for restricting user access by using session configurations:</span></span>

   <span data-ttu-id="9ade4-370">Kontrol lera att de sessionsbaserade som du vill använda i dina regler redan finns.</span><span class="sxs-lookup"><span data-stu-id="9ade4-370">Verify that session configurations that you want to use in your rules already exist.</span></span> <span data-ttu-id="9ade4-371">Om de inte har skapats än använder du instruktioner för att skapa sessionsinställningar i [about_Session_Configuration_Files](/powershell/module/microsoft.powershell.core/about/about_session_configurations).</span><span class="sxs-lookup"><span data-stu-id="9ade4-371">If they have not yet been created, use instructions for creating session configurations in [about_Session_Configuration_Files](/powershell/module/microsoft.powershell.core/about/about_session_configurations).</span></span>

1. <span data-ttu-id="9ade4-372">Skriv följande kommando och tryck sedan på **Retur**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-372">Type the following, and then press **Enter**.</span></span>

   `Add-PswaAuthorizationRule -UserName <domain\user | computer\user> -ComputerName <computer_name> -ConfigurationName <session_configuration_name>`

   <span data-ttu-id="9ade4-373">Med den här auktoriseringsregeln kan en speciell användare få åtkomst till en dator i nätverket som de normalt har åtkomst till, med åtkomst till en speciell sessionsinformation som är begränsad till användarens&trade;typiska skript-och cmdlet-behov.</span><span class="sxs-lookup"><span data-stu-id="9ade4-373">This authorization rule allows a specific user access to one computer on the network to which they typically have access, with access to a specific session configuration that is scoped to the user'&trade;s typical scripting and cmdlet needs.</span></span>

   <span data-ttu-id="9ade4-374">I följande exempel beviljas en användare som heter `JSmith` i `Contoso` domänen åtkomst för att hantera datorn `Contoso_214`och använda en sessionsnyckel med namnet. `NewAdminsOnly`</span><span class="sxs-lookup"><span data-stu-id="9ade4-374">In the following example, a user named `JSmith` in the `Contoso` domain is granted access to manage the computer `Contoso_214`, and use a session configuration named `NewAdminsOnly`.</span></span>

   `Add-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214 -ConfigurationName NewAdminsOnly`

1. <span data-ttu-id="9ade4-375">Kontrol lera att regeln har skapats genom att `Get-PswaAuthorizationRule` köra antingen cmdleten eller. `Test-PswaAuthorizationRule -UserName '<domain\user>' -ComputerName <computer-name>`</span><span class="sxs-lookup"><span data-stu-id="9ade4-375">Verify that the rule has been created by running either the `Get-PswaAuthorizationRule` cmdlet, or `Test-PswaAuthorizationRule -UserName '<domain\user>' -ComputerName <computer-name>`.</span></span>

   <span data-ttu-id="9ade4-376">Till exempel `Test-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214`.</span><span class="sxs-lookup"><span data-stu-id="9ade4-376">For example, `Test-PswaAuthorizationRule -UserName 'Contoso\JSmith' -ComputerName Contoso_214`.</span></span>

   <span data-ttu-id="9ade4-377">När du har konfigurerat en auktoriseringsregel är du redo för behöriga användare att logga in i den webbaserade konsolen och börja använda Windows PowerShell-webbåtkomst.</span><span class="sxs-lookup"><span data-stu-id="9ade4-377">After you have configured an authorization rule, you are ready for authorized users to sign in to the web-based console and begin using Windows PowerShell Web Access.</span></span>

## <a name="configure-a-genuine-certificate"></a><span data-ttu-id="9ade4-378">Konfigurera ett äkta certifikat</span><span class="sxs-lookup"><span data-stu-id="9ade4-378">Configure a genuine certificate</span></span>

<span data-ttu-id="9ade4-379">För en säker produktions miljö ska du alltid använda ett giltigt SSL-certifikat som har signerats av en certifikat utfärdare (CA).</span><span class="sxs-lookup"><span data-stu-id="9ade4-379">For a secure production environment, always use a valid SSL certificate that has been signed by a certification authority (CA).</span></span> <span data-ttu-id="9ade4-380">Proceduren i det här avsnittet beskriver hur du hämtar och använder ett giltigt SSL-certifikat från en certifikat utfärdare.</span><span class="sxs-lookup"><span data-stu-id="9ade4-380">The procedure in this section describes how to obtain and apply a valid SSL certificate from a CA.</span></span>

### <a name="to-configure-an-ssl-certificate-in-iis-manager"></a><span data-ttu-id="9ade4-381">Konfigurera ett SSL-certifikat i IIS-hanteraren</span><span class="sxs-lookup"><span data-stu-id="9ade4-381">To configure an SSL certificate in IIS Manager</span></span>

1. <span data-ttu-id="9ade4-382">I träd fönstret i IIS-hanteraren väljer du den server där Windows PowerShell-webbåtkomsten är installerad.</span><span class="sxs-lookup"><span data-stu-id="9ade4-382">In the IIS Manager tree pane, select the server on which Windows PowerShell Web Access is installed.</span></span>

1. <span data-ttu-id="9ade4-383">I rutan innehåll dubbelklickar du på **Server certifikat**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-383">In the content pane, double click **Server Certificates**.</span></span>

1. <span data-ttu-id="9ade4-384">Gör något av följande i fönstret **åtgärder** .</span><span class="sxs-lookup"><span data-stu-id="9ade4-384">In the **Actions** pane, do one of the following.</span></span> <span data-ttu-id="9ade4-385">Mer information om hur du konfigurerar Server certifikat i IIS finns i [Konfigurera Server certifikat i IIS 7](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732230(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="9ade4-385">For more information about configuring server certificates in IIS, see [Configuring Server Certificates in IIS 7](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732230(v=ws.10)).</span></span>

   - <span data-ttu-id="9ade4-386">Klicka på **Importera** om du vill importera ett befintligt, giltigt certifikat från en plats i nätverket.</span><span class="sxs-lookup"><span data-stu-id="9ade4-386">Click **Import** to import an existing, valid certificate from a location on your network.</span></span>
   - <span data-ttu-id="9ade4-387">Klicka på **Skapa certifikatbegäran** för att begära ett certifikat från en certifikat utfärdare, till exempel [VeriSign](https://www.verisign.com/), [Thawte](https://www.thawte.com/)eller ett [förtroende](https://www.geotrust.com/).</span><span class="sxs-lookup"><span data-stu-id="9ade4-387">Click **Create Certificate Request** to request a certificate from a CA such as [VeriSign](https://www.verisign.com/), [Thawte](https://www.thawte.com/), or [GeoTrust](https://www.geotrust.com/).</span></span> <span data-ttu-id="9ade4-388">Certifikatets egna namn måste överensstämma med värd rubriken i begäran.</span><span class="sxs-lookup"><span data-stu-id="9ade4-388">The certificate's common name must match the host header in the request.</span></span>

     <span data-ttu-id="9ade4-389">Om klientens webbläsare till exempel begär `http://www.contoso.com/`det, måste även det egna namnet. `http://www.contoso.com/`</span><span class="sxs-lookup"><span data-stu-id="9ade4-389">For example, if the client browser requests `http://www.contoso.com/`, then the common name must also be `http://www.contoso.com/`.</span></span> <span data-ttu-id="9ade4-390">Detta är det säkraste och rekommenderade alternativet för att tillhandahålla gatewayen för Windows PowerShell-webbåtkomsten med ett certifikat.</span><span class="sxs-lookup"><span data-stu-id="9ade4-390">This is the most secure and recommended option for providing the Windows PowerShell Web Access gateway with a certificate.</span></span>

   - <span data-ttu-id="9ade4-391">Klicka på **skapa ett självsignerat certifikat** för att skapa ett certifikat som du kan använda omedelbart och som har signerats senare av en ca om du vill.</span><span class="sxs-lookup"><span data-stu-id="9ade4-391">Click **Create a Self-Signed Certificate** to create a certificate that you can use immediately, and have signed later by a CA if desired.</span></span> <span data-ttu-id="9ade4-392">Ange ett eget namn för det självsignerade certifikatet, till exempel **Windows PowerShell-webbåtkomst**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-392">Specify a friendly name for the self-signed certificate, such as **Windows PowerShell Web Access**.</span></span> <span data-ttu-id="9ade4-393">Det här alternativet anses inte vara säkert och rekommenderas endast för en privat test miljö.</span><span class="sxs-lookup"><span data-stu-id="9ade4-393">This option is not considered secure, and is recommended only for a private test environment.</span></span>

1. <span data-ttu-id="9ade4-394">När du har skapat eller hämtat ett certifikat väljer du den webbplats som certifikatet tillämpas på (till exempel **standard webbplats**) i träd fönstret i IIS-hanteraren och klickar sedan på **bindningar** i rutan **åtgärder** .</span><span class="sxs-lookup"><span data-stu-id="9ade4-394">After creating or obtaining a certificate, select the website to which the certificate is applied (for example, **Default Web Site**) in the IIS Manager tree pane, and then click **Bindings** in the **Actions** pane.</span></span>

1. <span data-ttu-id="9ade4-395">I dialog rutan **Lägg till bindning för webbplats** lägger du till en **https** -bindning för platsen, om en sådan inte redan visas.</span><span class="sxs-lookup"><span data-stu-id="9ade4-395">In the **Add Site Binding** dialog box, add an **https** binding for the site, if one is not already displayed.</span></span> <span data-ttu-id="9ade4-396">Om du inte använder ett självsignerat certifikat anger du värd namnet från steg 3 i den här proceduren.</span><span class="sxs-lookup"><span data-stu-id="9ade4-396">If you are not using a self-signed certificate, specify the host name from step 3 of this procedure.</span></span> <span data-ttu-id="9ade4-397">Om du använder ett självsignerat certifikat krävs inte det här steget.</span><span class="sxs-lookup"><span data-stu-id="9ade4-397">If you are using a self-signed certificate, this step is not required.</span></span>

1. <span data-ttu-id="9ade4-398">Välj det certifikat som du hämtade eller skapade i steg 3 i den här proceduren och klicka sedan på **OK**.</span><span class="sxs-lookup"><span data-stu-id="9ade4-398">Select the certificate that you obtained or created in step 3 of this procedure, and then click **OK**.</span></span>

## <a name="using-the-web-based-windows-powershell-console"></a><span data-ttu-id="9ade4-399">Använda den webbaserade Windows PowerShell-konsolen</span><span class="sxs-lookup"><span data-stu-id="9ade4-399">Using the web-based Windows PowerShell console</span></span>

<span data-ttu-id="9ade4-400">När Windows PowerShell-webbåtkomst har installerats och gateway-konfigurationen har slutförts enligt beskrivningen i det här avsnittet är den webbaserade Windows PowerShell-konsolen redo att användas.</span><span class="sxs-lookup"><span data-stu-id="9ade4-400">After Windows PowerShell Web Access is installed and the gateway configuration is finished as described in this topic, the Windows PowerShell web-based console is ready to use.</span></span> <span data-ttu-id="9ade4-401">Mer information om att komma igång i den webbaserade konsolen finns i [använda den webbaserade Windows PowerShell-konsolen](use-the-web-based-windows-powershell-console.md).</span><span class="sxs-lookup"><span data-stu-id="9ade4-401">For more information about getting started in the web-based console, see [Use the Web-based Windows PowerShell Console](use-the-web-based-windows-powershell-console.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="9ade4-402">Se även</span><span class="sxs-lookup"><span data-stu-id="9ade4-402">See Also</span></span>

<span data-ttu-id="9ade4-403">[Internet Information Services (IIS) 7,0-dokumentation](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc753433(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="9ade4-403">[Internet Information Services (IIS) 7.0 Documentation](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc753433(v=ws.10))</span></span>

<span data-ttu-id="9ade4-404">[Hjälp om IIS-hanteraren 7,0](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732664(v=ws.11))</span><span class="sxs-lookup"><span data-stu-id="9ade4-404">[IIS Manager 7.0 Help](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732664(v=ws.11))</span></span>

<span data-ttu-id="9ade4-405">[Konfigurera webb Server säkerhet (IIS 7)](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc731278(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="9ade4-405">[Configure Web Server Security (IIS 7)](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc731278(v=ws.10))</span></span>

<span data-ttu-id="9ade4-406">[IPsec-distributions resurser](/previous-versions/windows/it-pro/windows-server-2003/cc776369(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="9ade4-406">[IPsec Deployment Resources](/previous-versions/windows/it-pro/windows-server-2003/cc776369(v=ws.10))</span></span>
